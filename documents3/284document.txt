Sun et al. EURASIP Journal on Wireless Communications and Networking FEURASIP Jou rm al on Wire | ESS
(2020) 2020:139

https://doi.org/10.1186/s13638-020-01752-y Communications and Networking

RESEARCH Oy else =e

Integrated human-machine intelligence for ®
EV charging prediction in 5G smart grid

updates
Dedong Sun', Qinghai Ou’, Xianjiong Yao°, Songji Gao’, Zhigiang Wang“, Wenjie Ma* and Wenjing Li? ©

 

 

* Correspondence: wjli@bupt.edu.cn
°State Key Lab. of Networking &

Switching Technology, Beijing ; ; ; ; ;
University of Posts & With the rapid development of the power infrastructures and the increase in the

Telecommunications, Beijing, China number of electric vehicles (EVs), vehicle-to-grid (V2G) technologies have attracted

Full list of author information is great interest in both academia and industry as an energy management technology

available at the end of the article in 5G smart grid. Considering the inherently high mobility and low reliability of EVs,
it is a great challenge for the smart grid to provide on-demand services for EVs.
Therefore, we propose a novel smart grid architecture based on network slicing and
edge computing technologies for the 5G smart grid. Under this architecture, the
bidirectional traffic information between smart grids and EVs is collected to improve
the EV charging experience and decrease the cost of energy service providers. In
addition, the accurate prediction of EV charging behavior is also a challenge for V2G
systems to improve the scheduling efficiency of EVs. Thus, we propose an EV
charging behavior prediction scheme based on the hybrid artificial intelligence to
identify targeted EVs and predict their charging behavior in this paper. Simulation
results show that the proposed prediction scheme outperforms several state-of-the-
art EV charging behavior prediction methods in terms of prediction accuracy and
scheduling efficiency.

Abstract

Keywords: Smart grid, Charging behavior, Deep learning, Charging behavior
prediction

 

1 Introduction

With the constant change of the global climate and the exhaustion of fossil fuels, the
traditional power grid cannot meet the increased demand for energy to support indus-
trial innovation and improvement of people’s living standards [1-3]. Smart grid is
evolving as the next-generation electrical grid for addressing these challenges by com-
bining power infrastructures with advanced information, artificial intelligence, sensor,
and automatic control technologies [4, 5]. Supported by above-varied technologies, the
smart grid can provide reliable, safe, economical, and efficient power services. Now-
adays, the number of electric vehicles (EVs) on the road has risen sharply due to rising
price of oil, global warming, development charging facilities, and advances in battery
technologies of EVs [6]. According to the prediction of the international energy agency
(IEA), the number of EVs on the road will be arising to 125 million by 2030 [7]. Con-
sidering the huge amount of electric energy needed by EVs, smart grid operators need

. © The Author(s). 2020 Open Access This article is licensed under a Creative Commons Attribution 4.0 International License, which
GQ) Springer Open permits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit to the
— original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The images or
other third party material in this article are included in the article's Creative Commons licence, unless indicated otherwise in a credit
line to the material. If material is not included in the article's Creative Commons licence and your intended use is not permitted by
statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a
copy of this licence, visit http://creativecommons.org/licenses/by/4.0/.
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 2 of 15

to set an optimal electricity price by analyzing the EV charging behavior. From the
charging behavior perspective, EV users can be divided into regular and irregular users
[8]. The charging behavior of ordinary users has a certain regularity. They charge at a
fixed time every day, and the amount of each charge is stable. The charging behavior of
irregular users is not regular. For example, due to insufficient electricity during the trip,
irregular users simply choose a charging station that is nearby to charge and will not
charge at the same charging station for a long time. The charging behavior of ordinary
users has a certain regularity. They charge at a fixed time every day, and the amount of
each charge is stable. The charging behavior of irregular users is not regular. For ex-
ample, due to insufficient electricity during the trip, irregular users simply choose a
charging station that is nearby to charge and will not charge at the same charging sta-
tion for a long time. To provide on-demand services for efficient and intentional use of
energy, the grid operators need to analyze the charging behavior of electric vehicle
users. However, traditional power grids cannot effectively implement resource
optimization and advanced charging service guarantee scheduling due to high transmis-
sion delays and limited computing capabilities [9].

To achieve an efficient EV charging scheme, many proposals have recently intro-
duced the concept of network slicing [10], which can provide dedicated on-demand
services in the case of limited network resources with low operating costs. In [11], the
authors proposed a vehicular delay-tolerant network in smart grid to transmit data to
EVs by using the edge computing technology. However, with the increasing number of
electric vehicles [12—14], the demand for low-latency vehicle-to-grid (V2G) services is
increasing. Recently, edge computing technology has raised many concerns because it
has the potential to provide computing resources for EV users for reducing V2G la-
tency at the edge of the grid [15]. Moreover, edge computing can also enable several
smart city services, such as video monitoring, urban transport, positioning system, and
emergency. In [16], the authors slice the smart grid to provide efficient privacy-
preserving communication and power injection services for EV users. Supported by
network slicing and edge computing technologies, network resources can be allocated
to the customized services while meeting the specific demands of EV users, such as
charging amount, charging rate, and response latency. Despite all these benefits, the
smart grid with network slicing and edge computing still lack the ability to forecast the
EV charging behavior, which is essential for providing the on-demand services to EV
users.

It is well known that deep learning algorithms can be used to predict time series data,
such as network traffic and user behavior [17, 18]. In recent years, scholars have been
trying to use recurrent neural networks (RNNs), which is an important branch of deep
learning, to solve time series prediction problem [19]. In the EV prediction aspect, re-
searchers have found better performance for RNN than traditional deep learning [20].
RNN is an important branch of deep learning used in pattern recognition and time
series prediction; it can model time or sequence-dependent behavior, such as speech
recognition, financial markets, web traffic, and so on. However, traditional RNN models
cannot be ignored on its weakness of long-range dependencies that would cause gradi-
ent vanishes [21]. As the most common variant of RNN, the long short-term memory
(LSTM) is widely used in capturing long-term dependencies. Therefore, LSTM is more
suitable for EV charging analysis. In [22], a deep learning-driven EV scheduling strategy
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 3 of 15

is introduced to optimize the EV charging according to the real-time electricity pricing,
thereby decreasing the global EV energy cost. In [23], an RNN-based approach is
adopted to enhance the energy consumption of EVs by predicting trajectory and delay.
However, considering the complex user charging behavior and massive amounts of
EVs, the prediction accuracy of the above works cannot meet the requirements of EV
charging behavior analysis in the 5G smart grid.

In this paper, we propose an EV charging behavior analysis (EV-CBA) scheme based
on hybrid artificial intelligence in the 5G smart grid. The EV-CBA scheme consists of
two steps, the first is a novel three-layer smart grid architecture based on network sli-
cing and edge computing technologies, and the second is the hybrid artificial
intelligence including the K-means-based EV charging behavior clustering, the k-
nearest neighbor (KNN)-based EV charging behavior classification, and the LSTM-
based EV charging behavior prediction. The three-layer smart grid network architecture
is the hardware basis of hybrid artificial intelligent algorithms. The first layer is the slice
layer, which can provide end-to-end network slices of smart grid for charging services.
The second layer is the control layer, which controls network resources of smart grid
and provides suitable resources for charging services from different slices. The third
layer is the infrastructure layer, which can provide wireless access resources for EV
users. This structure can take into account end-to-end computing power and ultra-low
transmission latency of edge computing, thereby ensuring the real-time operation of
hybrid artificial intelligence. Therefore, applying hybrid artificial intelligence to the pre-
diction of EV charging behavior can improve the efficiency of EV charging schedules.
The simulation results and cross-validation evaluation show that the proposed EV-CBA
scheme can efficiently cluster, classify, and predict the EV charging behavior. The over-
all EV traffic scheduling is optimized according to the prediction results.

The rest of this paper is organized as follows. In Section I, we first introduce the
three-layer architecture of the 5G smart grid. Then, in Section III, we present the hy-
brid artificial intelligence in V2G systems for the EV charging behavior analysis. Section
IV gives the relevant simulation results and discussion. Finally, we conclude the article
in Section V.

2 Smart grid network architecture with network slicing and edge computing
2.1 Network slicing and edge computing in 5G smart grid

The network slicing in a 5G network defines logical subnets, which consists of a series
of customized network resources and virtual network functions, such as radio resources
and spectrum resources. This virtual network function allows separate functions from
the smart grid to provide the resources needed for each EV charging service. Therefore,
different EV charging demands can be met for many cases (such as irregular charging
and regular charging). Thus, the optimized resources are allocated without resource
waste. The network slicing technology can achieve virtual network functions on the
physical infrastructure and has the guarantee of customized virtual network resources.
In other words, the network slicing technology coordinates different users to customize
charging services and make sure that adding new users will not affect the customized
virtual network resource. However, in the case of EV charging, the EV charging re-

quirements in the smart grid with low transmission latency is increasing, and the
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 4 of 15

explosive number of artificial intelligence services including smart home, smart build-
ings, autonomous vehicles, etc. Thus, to meet the demands of evolving EV charging
services, the smart grid requires the V2G system to be centralized control, intelligent
configurable, and low cost.

In future 5G smart grid, edge computing will play an important role to address ultra-
low charging delay requirements. Edge computing can help the smart grid operators to
provide on-demand services at the edge of the smart grid near the EV users to meet
the low latency transmission requirements. Moreover, for smart grid operators, it is es-
sential to combine and deliver customized network resources for services according to
the demands of EV users. The standard of edge computing has been proposed by ITU-
T, which is the logical isolated network partition (LINP). Considering each slice of the
smart grid is the combination of serval virtual networks based on dynamic requests,
network slicing technology is an important element of edge computing. That means
the edge computing can guarantee extensibility by importing EV charging information
into controllers at the edge of smart grid; thus, we can avoid resource waste and char-
ging wait time that would cause traffic congestion.

To sum up, the combination of network slicing and edge computing can provide on-
demand services and control functions at the edge of the smart grid. They enable cus-
tomized charging services for heterogeneous charging demands by slicing the physical
network to several customized slices at the same time. With edge computing, more
computing and analysis of data may be performed in EVs, edge clouds, or at charging
stations. Meanwhile, the use of edge computing also promotes computing and storage
resources that are very close to the end-use, ensures ultra-low transmission latency and
ultra-high response rates, and offers the potential for calculating at the edge of the

smart grid and providing customized EV charging services.

2.2 Network architecture design

In this subsection, we design a novel smart grid network architecture based on network
slicing and edge computing, which provides a hardware foundation for implementing
hybrid artificial intelligence algorithms.

As shown in Fig. 1, this paper proposes a smart grid network architecture based on
network slicing and edge computing to abstract or share substrate resources. The pro-
posed architecture consists of three layers including the slice layer, the control layer,
and the infrastructure layer. Firstly, the slice layer can provide end-to-end network
slices of the smart grid for charging services. Secondly, the control layer can control
network resources of smart grid and provides suitable resources for charging services
from different slices. Thirdly, the infrastructure layer can provide wireless access re-
sources for EV users. This structure can take into account end-to-end computing
power and ultra-low transmission delay of edge computing, thereby ensuring the real-
time operation of hybrid artificial intelligence. The charging stations in this layer are
used to collect the charging information. The smart grid network architecture based on
network slicing and edge computing is the hardware basis, which is proposed to realize
hybrid artificial intelligent algorithms.

The smart grid network architecture is driven by technologies based on billing ser-
vices, distributed control, and coordinated control theory. The EV charging service is
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 5 of 15

 

   

Slice Layer

Smart meter data Micro Grid Management Data Traffic Scheduling

Data Center Management Energy Scheduling Real Time Monitoring

Dynamic Demand

 

   
 
   
 

Control Layer /
SDN Controller
; Ns “ -
- V
Infrastructure Layer
Edge Computing
e =©Charging Edge
e Route Computing

e Behavior

-— -

 

-—
-
-—
-
-—
-——
-

Agg-Router |

= —
_-.
—_
—_
_
@AJA

  
 

  

10% Traffi Ss) - >
,. 5G Backhaul
684 Traffic 7 Edge
Computing
Power Generation Power Line Charging Status

Communication
Jaton fT

Se “ “ \ / sh +

- ’ we alee oo r= A
A ES

   

Fig. 1 Three-layer architecture of smart grid with network slicing and edge computing. As shown in this
figure, it provides a smart grid network architecture based on network slicing and edge computing to
abstract or share substrate resources

 

 

based on irregular or regular EV charging requirements and charging information col-

lected from actual networks. Charging data transmission and cross-layer control can be
realized through network visualization and OpenFlow protocol.

The information interaction between EVs and charging stations can be realized via
power line communication (PLC) and wireless communication networks. The charging
behavior information collected from EVs is stored and processed in the edge cloud to
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 6 of 15

optimize the charging schedule. The infrastructure layer can supply a user interface for
EVs to interact with the charging station and obtain the charging behavior data of EVs,
and then upload data to the control layer. The control layer is the bridge of the infra-
structure layer and the slice layer. The control layer can process the EV charging re-
quests, optimize the charging schedule, and globally control the V2G system.

In particular, we collect the charging behavior data by serval different types of sensors
deployed in EVs and charging stations, which includes driving behavior of user col-
lected by EV sensors, battery usage data uploaded by the internally installed sensors,
and EV charging data collected by sensors installed in charging stations. These rich
data sources make it easier for the smart grid to collect EV charging behavior informa-
tion, such as remaining vehicle mileage, availability of charging stations, and battery
charging status. All the charging information can be used to analyze and predict the
EV charging behavior by artificial intelligence algorithms.

After obtaining the prediction charging results, EVs send the charging service requirements
to the controller through the user interface in the infrastructure layer, then the controller up-
dates the EV charging ID in the EV information module and receives information packets
from the EV. When EVs try to access the charging station, the PLC and the controller are re-
sponsible for information interaction, and the charging service requirements are uploaded to
the edge computing module through wireless communication networks. When the EVs are
driving, the data collected by EV sensors and battery sensors are sent to the edge computing
module via vehicular wireless communication networks. When the charging service require-
ments on the EV side changes sharply, the charging station accesses charging data via multi-
cast communication network to obtain the battery usage state, upload the charging service
requirements, and assign the status of charging station in the V2G system.

Considering the heterogeneous environments of the smart grid, edge computing can
provide low latency on-demand charging services at the edge of the smart grid. The
use of edge computing promotes computing and storage resources that are very close
to the end-use, ensuring high data rates.

3 Methods

3.1 Data set introduction and data preprocessing

To ease the burden of EV charging on the power grid, one possible solution is to pre-
dict the charging behavior of EV users. From a macro perspective, EV users can be di-
vided into regular and irregular users. The charging behavior of regular users has a
certain regularity while the charging behavior of irregular users has no regularity. It is
meaningful to predict the charging behavior of regular users, but the charging behavior
of irregular users will increase the prediction error.

Generally, the standard deviation is calculated according to the time and amount of
each charging, and the stability of charging behavior is judged according to the standard
deviation. However, we cannot get a reasonable threshold. To this end, we use a machine
learning method to solve this problem, we choose K-means to classify data sets.

We use one year’s charging record of a charging station in Los Angeles as a data set
for simulation. Each record stores the user ID, charging connection time, charging
completion time, disconnection time, charging amount, and other variables. The data
set contains 26,000 charging records of 318 users.
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 7 of 15

Before clustering, we preprocess the dataset. Firstly, for users whose records is less
than 3, we think they are not local users, so we delete them from the dataset. To distin-
guish regular and irregular users better, we choose the average charging time, the
standard deviation of the charging time, and the standard deviation of the connection
time as the clustering vector. As shown in Eq. (1), we use the linear normalization

method to normalize the data.
x= (X—X min) /(Xmax—X min ) (1)

3.2 The K-means-based EV charging behavior clustering

K-means is one of the unsupervised learning algorithms suitable for classifying un-
labeled data sets. It can divide the data into K clusters. There are many methods that
can be used to calculate the distance between vectors, and the most common of which
is the Euclidean distance.

Specifically, the first K clustering objects are randomly chosen from v objects as
the initial points. Then, the distance between n objects and K clustering objects
can be calculated. According to the calculation results, each object with minimum
distance can be classified. Next, the average value of each clustering object is cal-
culated as a new initial point and iteratively is continued until the classification of
each data belongs to remains unchanged. Among them, the update of the nth iter-
ation cluster center is as Eq. (2).

The main drawback of the K-means algorithm is that the random selection of initial
K clustering objects might cause local optimum. Therefore, we use a hybrid artificial
intelligence algorithm to improve the accuracy of the results. After clustering the ob-
jects calculated by the K-means algorithm, we use the machine learning method to re-
fine and relabel the data to get better results. The pseudocode of the K-means-based
EV charging behavior clustering algorithm is shown below.

Algorithm 1: K-Means-based EV charging behavior clustering

: Randomly chosen & clustering objects from 1 objects;
: For each instance
Classify each object with minimum distance;
: Repeat
Update the minimum distance;
Reassign the instances to clustering objects;
End;
: Use machine learning methods to refine and relabel the data.

1
2
3:
4
5:
6:
7:
8

 

After clustering, we standardize the results and import the user data into the same
tuple structure, which is shown in Eq. (3).

p= (ten arges Och arge; O connect ) (3)

As shown in Fig. 2, machine learning algorithm divides users into three categories.
Through analysis, we believe that the red and blue users have regular and predictable
Sun et al. EURASIP Journal on Wireless Communications and Networking

(2020) 2020:139

 

  
   
  
     

 

.
k=3
_
0.8 .
© = . . .
£06, : 3
o> 8 ar
© 0.4 | of os . °
5 : . e% e ait > ‘
0.2 J 2—e . “S oe .*
ee EES
0 “Te

  
 

0.6

0.2

STD of charging time

STD of connection time

Fig. 2 The clustering results under K-means-based EV charging behavior clustering algorithm. As shown in
this figure, machine learning algorithm divides users into three categories

 

charging behavior because their standard deviation is low. On the contrary, some users

have irregular charging behavior, which is classified into green spots in Fig. 2. Such
users have no value in taking part in the centralized scheduling of the power grid be-
cause the standard deviation is large. Therefore, we adopt the hybrid artificial
intelligence algorithm to classify red and blue users into one category and green users

into another.

3.3 The KNN-based EV charging behavior classification

When new users join, they need to be classified based on their behavior. However, it is
a great challenge to re-cluster the whole dataset each period when a new EV accesses
to the charging station. Therefore, we use the k-nearest neighbors (KNN) method to
classify new users based on existing clustering results. KNN is one of the supervised
learning methods used to classify samples by measuring the distance between new ob-
jects and the labeled objects. Inside the KNN algorithm, all the chosen objects have
been accurately classified, the training samples of the first K new objects can be chosen,
and the new chosen objects are assigned to the classification that the largest number of
data categories among the K nearest neighbor belongs. A detailed description of the
KNN-based EV charging behavior classification is shown below.

Algorithm 2: k-nearest neighbors (KNN)-based EV charging
behavior classification

1: Calculating the distance between the labelled objects and
the chosen objects;

2: Arrange the distances according by numerical size;

3: Chose k objects with the minimum distance from the
selected objects;

4: Classify the objects that is repeated most often in the first k
objects as the results.

 

Page 8 of 15
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 9 of 15

The training error rate is defined as the ratio of the K-nearest training sample marker
to the input marker, which is expressed as follows:

1/K XI yjecj) =1-1/K S° I(y;=c;) (4)

xjENx (x xjENx(x)

Moreover, if we choose the appropriate K value, we can maximize the coefficient in
the training set.

1/K SY I(y; =<) (5)

xjENx (x)

3.4 LSTM-based EV charging behavior prediction

The RNN algorithm is adopted to identify nature language because it was able to re-
member a long time sequence. However, as the sequence length increases, the gradient
disappearance problem is highlighted by unfolding RNNs into ultra-deep structures. To
solve the problem of the vanishing gradient, some structures of RNNs with forget units
were proposed like LSTM and GRU. In this way, the memory cells could decide when
it can forget certain charging information and thus determine the optimal charging
time. LSTM was proposed for language models in 1997 and was used for EV aspect
prediction until 2015.

Figure 3 illustrates the typical architecture of the LSTM predictor. A representative
LSTM neural network cell mainly contains four gates with different functions including
the input gate, the input modulation gate, the forget gate, and the output gate. The in-
put gate receives the input training data and processes the new coming information.
The input modulation gate transmits the input data to the output gate for the last iter-
ation. The forget gate selects the value data and decides when to forget the unnecessary

information for the input sequence. The output gate obtains the entire calculation

   

Forget
gate

Fig. 3 The structure of the LSTM predictor. This figure illustrates the typical architecture of LSTM predictor.
A representative LSTM neural network cell mainly contains four gates with different functions including the
input gate, the input modulation gate, the forget gate, and the output gate

 
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 10 of 15

results and creates output for the LSTM model. In our prediction model, a soft-max
layer and a linear regression layer are added to determine the final output of the
LSTM.

We recognize the input data as X = (x1, %2, ..., x,), hidden state of LSTM as H = (hy,
hy, ..., h,), and output results as Y = (yj, yo, ..., ¥,), and LSTM has the computation as

follows:
hy = H(Woxx, + Warhts + bn) (6)
Pr = Whyy1 + By, (7)

in which the weights are denoted as W, and biases are represented as b. The hidden
state of LSTM is calculated as follows:

ig = O( Witte + Wanhia + Wicer1 + bi) (8)
f= O(W pcx, + Wanhe-1 + Wyecr1 + bf) (9)
Ce = f Ce + ieee (Weere + Wanhi-r + Weeet-1 + dc) (10)
Op = O(W one + Ware + Woclr-1 + bo) (11)
hy, = 0,*h(cr), (12)

where o stands for the standard sigmoid function as shown in Eq. (13), * denotes the
scalar product of two vectors or matrices, g and h represent the extend of standing sig-
moid function with the ranges of [—2, 2] and [-1, 1], respectively.

o(x) =1/( +e") (13)

The objective function of our prediction model is given by the following formula:

n

€ — (¥,-P;)’ (14)

t=1

in which y denotes the real value, and p is the predicted results. To reduce the training
error and avoid local optimal, an adaptive learning rate-based stochastic gradient
descent (SGD) optimizer, Adam optimizer, is adopted in back propagation through
time (BPTT) algorithm. Neural networks have been known for their powerful ex-
pressive abilities and are particularly prone to overfitting. Neural network training
has been a difficult problem for long, and a lot of regularization methods have
been proposed to reduce overfitting. In 2012, dropout [24] was proposed as a very
effective algorithm for training neural networks to obtain better image features.
However, due to the recurrent property of RNNs, dropout has been difficult to
apply to language models of RNNs. Until 2014, it was reported that the dropout
methods were successfully applied to RNNs.
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 11 of 15

4 Experiments and results

4.1 Data description and experiment design

We use one year’s charging record of a charging station in Los Angeles as a data
set for simulation. Each record stores the user ID, charging connection time, char-
ging completion time, disconnection time, charging amount, and other variables.
The data set contains 26,000 charging records of 318 users. We have divided the
EV users into regular and irregular users through above hybrid artificial
intelligence. The regular users have regular and predictable charging behavior,
while the behavior of irregular users is unpredictable.

In our experiment, we deployed the RNN composed of one LSTM cell to process
the classified EV user’s data. Then, we compared the predicted user charge with
the real user charge to test the performance of our proposed model. Besides, to
test our model prediction accuracy better, we used the mean square error (MSE)

defined as follows:

n

MSE = -S (¥;-9;)° (15)

i=1

4.2 Cross-validation of the hybrid artificial intelligence algorithm

Cross-validation is used to verify the effectiveness of the proposed hybrid artificial
intelligence algorithm. There are 223 user data after filtering; we divided them into 6
groups. The first 5 groups are used for cross-validation, and the last group is used for
final validation, as shown in Fig. 4.

In cross-validation, 4 groups of data are used for training prediction model, and an-
other group of data is used for testing. In addition, the last 48 data are used for valid-
ation. After training, the prediction accuracy is 98.41%.

To fully consider the general performance of the model, we draw a receiver op-
erating characteristic curve (ROC) curve to fitting the number of the partition type.
ROC curve is usually more effective when the classification distribution is not uni-
form. There are two important values inside the ROC curve, the first is the true-

Train Validation
Train Validation

 

Validation SBe-beel sei

Fig. 4 The demonstration of cross-validation for EV charging behavior grouping. As shown in this figure,
there are 223 user data after filtering; we divided them into 6 groups. The first 5 groups are used for cross-
validation, and the last group is used for final validation

 
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 12 of 15

positive rate (TPR) and the other one is the false-positive rate (FPR). The defini-
tions of them are as shown below:

TPR = TP/(TP + EN) (16)

FPR = EP/(TN + EP) (17)

The area under the ROC curve (AUC) is a widely used indicator of the classification
performance of supervised algorithm. The AUC is calculated the proportion of area
under the ROC curve compared with the total area. The ROC curve of the k-nearest
neighbor (KNN)-based EV charging behavior classification algorithm is shown in Fig. 5.
It is obvious that the ROC curve is close to the upper boundary of the coordinates, and
the AUC is 0.995, which indicates that the classification performance of our model is
effective. Thus, by adopting the KNN-based EV charging behavior classification model,
we can classify the behavior of new users to figure out whether their behavior is regular
or irregular. Electric power companies can use these classification results to predict fu-
ture loads to timely dispatch the grid and enhance the stability of the grid.

4.3 EV charging prediction

In this experiment, the hybrid artificial intelligence-based prediction model is trained,
and the performance is measured. Figures 6 and 7 demonstrate the prediction results
of irregular charging data and regular charging data, respectively. According to the re-

sults, the predicted value of regular users is very similar to the real data, while the

 

 

 

 

 

I.
0.
0.
0.
2
3
ww 0.
S
S 0.
O
A 0.
oO
c
E 0,
0.
0. AUC=0.995
0.0 - I I I I I
0.0 01 0.2 03 04 0.5 0.6 0.7 0.8 0.9 1.0
False Positive Rate
Fig. 5 The demonstration of cross-validation for EV charging behavior grouping. The ROC curve of the k-
nearest neighbor (KNN)-based EV charging behavior classification algorithm is shown in this figure

 
Sun et al. EURASIP Journal on Wireless Communications and Networking —_ (2020) 2020:139 Page 13 of 15

 

45

40

  
   
   
 
  
 
  

User Charge
BJ NJ J lJ
os) ui So On

hb
Ww

re
©

 

0 10 20 30 40 50 60 70 80
Time Series

Fig. 6 Irregular charging data prediction results. In this figure, the hybrid artificial intelligence-based
prediction model is trained, and the performance is measured

 
 

 

  

SLES ee eng

a)

User Charge
—

NJ
o
o

 

0 10 20 30 40 50 60 70 80
Time Series

Fig. 7 Regular charging data prediction results. This figure demonstrates the prediction results of irregular
charging data and regular charging data, respectively

 
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 14 of 15

charging behavior of irregular users are difficult to predict. The experimental results
are basically in line with our expectations, which means that our proposed method is
effective. Experimental results show that hybrid artificial intelligence has good perform-
ance on regular charging data, but the irregular charging data are hard to predict.
Therefore, predicting the charging behavior of regular EV users is meaningful to for-
mulate an optimal electricity price, and considering the prediction, the irregular EV
charging data can be neglected.

5 Conclusions

To effectively provide on-demanding charging services for EV users in the 5G smart
grid, we propose an electric vehicle charging behavior analysis (EV-CBA) scheme based
on hybrid artificial intelligence in 5G smart grid. There are two main innovations in
the EV-CBA scheme including a novel three-layer smart grid architecture and a hybrid
artificial intelligence algorithm. The proposed smart grid network architecture adopts
network slicing and edge computing technologies to meet the heterogeneous EV char-
ging demands, such as irregular charging and regular charging, in 5G smart grid. In
addition, the proposed three-layer smart grid architecture is the hardware foundation
for implementing hybrid artificial intelligent algorithms. The hybrid artificial
intelligence is proposed to obtain accurate prediction results of future charging de-
mands, which consists of the K-means-based EV charging behavior clustering, the k-
nearest neighbor (KNN)-based EV charging behavior classification, and the LSTM-
based EV charging behavior prediction. The multi-step hybrid prediction process con-
tributes to analyzing the EV charging behavior. Simulation experiments show that the
proposed EV-CBA scheme can predict EV charging behavior with excellent clustering
capacity and classification performance. The prediction results can be used as the basis
for EV charging scheduling in the 5G smart grid.

Abbreviations

EVs: Electric vehicles; V2G: Vehicle-to-grid; IEA: International Energy Agency; RNNs: Recurrent neural networks;

LSTM: The long short-term memory; EV-CBA: EV charging behavior analysis; KNN: k-nearest neighbors; LINP: Logical
isolated network partition; PLC: Power line communication; SGD: Stochastic gradient descent; BPTT: Back propagation
through time; MSE: Mean square error; TPR: True-positive rate; FPR: False-positive rate; AUC: Area under the ROC curve

Acknowledgements
Not applicable

Authors’ contributions

Dedong Sun was in charge of the major theoretical analysis, algorithm design, and wrote the manuscript; Qinghai Ou
was in charge of experimental simulation; other authors were in charge of part of the theoretical analysis and
experiment. All authors read and approved the final manuscript.

Funding
This work is supported by State Grid Science and Technology project “Analysis of Power Wireless Private Network
Evolution and 4G/5G Technology Application” (Grant No. 5700-201941235A-0-0-00).

Competing interests
The authors declare that they have no competing interests.

Author details

"State Grid Information & Telecommunication Group Co,, Ltd., Beijing, China. *Beijing Fibrlink Communications Co., Ltd.,
Beijing, China. *State Grid Shanghai Municipal Electric Power Company, Shanghai, China. “State Grid Shaanxi Electric
Power Company, Xian, China. °State Key Lab. of Networking & Switching Technology, Beijing University of Posts &
Telecommunications, Beijing, China.
Sun et al. EURASIP Journal on Wireless Communications and Networking (2020) 2020:139 Page 15 of 15

Received: 20 March 2020 Accepted: 17 June 2020
Published online: 01 July 2020

References

1. Y. Zeng, R. Zhang, D. Wang, Y. Mu, H. Jia, A regional power grid operation and planning method considering renewable
energy generation and load control. Appl. Energy 237, 304-313 (2019)

2. ©. Feng, X. Tang, Y. Jin, Y. Guo, X. Zhang, Regional energy-water nexus based on structural path betweenness: A case
study of Shanxi Province, China. Energy Policy 127, 102-112 (2019)

3. J. Xie, W. Zhang, L. Wei, Y. Xia, S. Zhang, Price optimization of hybrid power supply chain dominated by power grid. Ind.
Manag. Data Syst. (2019)

4. T. Balezentis, D. Streimikiené, Sustainability in the electricity sector through advanced technologies: Energy mix
transition and smart grid technology in China. Energies 12(6), 1142 (2019)

5. Huang, A. Q. (2019). Power semiconductor devices for smart grid and renewable energy systems. Power Electronics in
Renewable Energy Systems and Smart Grid: Technology and Applications, 85-152.

6. Chen, S., Guo, Z., Yang, Z., Xu, Y., & Cheng, R. S. (2019). A game theoretic approach to phase balancing by plug-in
electric vehicles in the smart grid. IEEE Transactions on Power Systems.

7. P. Moriarty, D. Honnery, Prospects for hydrogen as a transport fuel. Int. J. Hydrog. Energy 44(31), 16029-16037 (2019)

8. Chung, Y. W., Khaki, B, Chu, C, & Gach, R. (2018, June). Electric vehicle user behavior prediction using hybrid kernel
density estimator. In 2018 IEEE International Conference on Probabilistic Methods Applied to Power Systems (PMAPS)
(pp. 1-6). IEEE.

9. W. Cao, K. Liu, S. Wang, H. Kang, D. Fan, J. Zhao, Harmonic stability analysis for multi-parallel inverter-based grid-
connected renewable power system using global admittance. Energies 12(14), 2687 (2019)

10. Wang, Z., Meng, S., Sun, L, Ding, H. Wu, S., Yang, D., ... & Xi, L. (2019, August). Slice management mechanism based on
dynamic weights for service guarantees in smart grid. In 2019 9th International Conference on Information Science and
Technology (ICIST) (pp. 391-396). IEEE.

11. N. Kumar, S. Zeadally, JJ. Rodrigues, Vehicular delay-tolerant networks for smart grid data management using mobile

edge computing. IEEE Commun. Mag. 54(10), 60-66 (2016)

12. GR. Parsons, M.K. Hidrue, W. Kempton, M.P. Gardner, Willingness to pay for vehicle-to-grid (V2G) electric vehicles and

their contract terms. Energy Econ. 42, 313-324 (2014)

13. TS. Ustun, CR. Ozansoy, A. Zayegh, Implementing vehicle-to-grid (V2G) technology with IEC 61850-7-420. IEEE

Transactions on Smart Grid 4(2), 1180-1187 (2013)

14. Y. Ota, H. Taniguchi, T. Nakajima, K.M. Liyanage, J. Baba, A. Yokoyama, Autonomous distributed V2G (vehicle-to-grid)

satisfying scheduled charging. IEEE Transactions on Smart Grid 3(1), 559-564 (2011)

15. K. Zhang, S. Leng, Y. He, S. Maharjan, Y. Zhang, Mobile edge computing and networking for green and low-latency

Internet of Things. IEEE Commun. Mag. 56(5), 39-45 (2018)

16. Y. Zhang, J. Li, D. Zheng, P. Li, Y. Tian, Privacy-preserving communication and power injection over vehicle networks

and 5G smart grid slice. J. Netw. Comput. Appl. 122, 50-60 (2018)

17. A. Yu, H. Yang, T. Xu, B. Yu, Q. Yao, Y. Li, et al, Long-term traffic scheduling based on stacked bidirectional recurrent

neural networks in inter-datacenter optical networks. IEEE Access 7, 182296-182308 (2019)

18. A. Yu, H. Yang, Q. Yao, Y. Li, H. Guo, T. Peng, et al., Accurate fault location using deep belief network for optical

fronthaul networks in 5G and beyond. IEEE Access 7, 77932-77943 (2019)

19. Yu, A., Yang, H., Yao, Q., Li, Y.,, Guo, H., Peng, T,, ... & Zhang, J. (2019, March). Scheduling with flow prediction based on
time and frequency 2D classification for hybrid electrical/optical intra-datacenter networks. In Optical Fiber
Communication Conference (pp. Th1H-3). Optical Society of America.

20. Xing, Y., & Lv, C. (2019). Dynamic state estimation for the advanced brake system of electric vehicles by using deep
recurrent neural networks. IEEE Transactions on Industrial Electronics.

21. Kim, J., Kim, J., Thu, H. L. T., & Kim, H. (2016, February). Long short-term memory recurrent neural network classifier for
intrusion detection. In 2016 International Conference on Platform Technology and Service (PlatCon) (pp. 1-5). IEEE.

22. C. Jin, J. Tang, P. Ghosh, Optimizing electric vehicle charging with energy storage in the electricity market. IEEE
Transactions on Smart Grid 4(1), 311-320 (2013)

23. W. Kong, ZY. Dong, Y. Jia, DJ. Hill, Y. Xu, Y. Zhang, Short-term residential load forecasting based on LSTM recurrent
neural network. IEEE Transactions on Smart Grid 10(1), 841-851 (2017)

24. Krizhevsky, A, Sutskever, |, & Hinton, G. E. (2012). ImageNet classification with deep convolutional neural networks. In
Advances in neural information processing systems (pp. 1097-1105).

 

 

Publisher’s Note

Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.
