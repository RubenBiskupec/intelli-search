Marine Systems & Ocean Technology (2020) 15:217-242
https://doi.org/10.1007/s40868-020-00089-x

REVIEW PAPER Mm)

Check for
updates

Artificial Neural Network controller for automatic ship berthing:
challenges and opportunities

Yaseen Adnan Ahmed'® - Mohammed Abdul Hannan? : Kang Hooi Siang!

Received: 4 July 2020 / Accepted: 30 September 2020 / Published online: 19 October 2020
© Sociedade Brasileira de Engenharia Naval 2020

Abstract

Ship berthing is a complicated manoeuvring process that demands precise control of the speed and course of an under-
actuated system. As berthing involves low speed running of a ship under environmental disturbances with reduced manoeu-
vrability, a professional ship handler often faces difficulties in controlling heading in such a situation. To bring automation
in ship berthing, most of the researchers have agreed that Artificial Neural Network (ANN) plays a vital role as it has the
ability to learn from human experience and replicate similar action in an unknown situation. However, we are still far away
from implementing it for real berthing control as we do not have any self-fulfilling ANN controller yet, which can treat all
the major issues relevant to a complicated ship berthing operation. Based on contemporary research findings, this paper,
therefore, highlights four major challenges that have to be taken into account while proposing an ANN controller for ship
berthing, and a comprehensive summary of how to deal with those. The first is how to provide consistent teaching data while
training ANN controller to make it more robust; second is how to make the controller universal to do berthing in any port;
third is how to tackle the wind disturbances while automation in progress; and the fourth is how to align a ship to the pier,
which is the final stage of berthing.

Keywords Artificial Neural Network - Fuzzy logic - Ship berthing - Comprehensive study - Gust wind - Nonlinear
programming

1 Introduction

With technological advancement, modern ship motion con-
trol techniques are being developed with a motive to make
the shipping industry safer. These controllers are specially
designed to enable a ship to take an autonomous decision
under critical situations where humans often hesitate or fail.
While talking about simple course keeping or course chang-
ing problem, most of the ships use a conventional controller

><] Yaseen Adnan Ahmed
yaseen @ mail.fkm.utm.my

Mohammed Abdul Hannan
abdul.hannan @ncl.ac.uk

Kang Hooi Siang
kangs @utm.my

Faculty of Mechanical Engineering, Universiti Teknologi
Malaysia, 81300, Skudai, Johor Bahru, Johor, Malaysia

Faculty of Science, Agriculture and Engineering, Newcastle
University United Kingdom (Singapore Campus), Singapore,
Singapore

such as PID with constant or adaptive gain. This type of con-
troller works well under reasonable environmental distur-
bances. However, there are some difficult manoeuvres where
the conventional controller fails to guide the ship properly.
One of such manoeuvres is ship berthing. Ship berthing
requires controlling of an under-actuated multi-input multi-
output (MIMO) system. Considering this fact in mind, dif-
ferent researchers propose different strategies for automatic
berthing control. Shiie et al. [1] proposed a nonlinear model
predictive control (NMPC)-based approach providing opti-
mal ship rudder angles and propeller revolution rate to auto-
mate the docking process. The author used optimal control
theory for a finite horizon at each sampling instant. He also
proposed a lexicographic multi-objective optimization strat-
egy, which saves the efforts on control parameter tuning.
This controller is designed to follow a pre-planned berthing
path that is used as a reference with an optimum rudder
angle and propeller revolution. At a glance, the results look
quite promising; however, when dealing with the optimiza-
tion with too many constraints, such as making surge veloc-
ity, sway velocity and yaw rate all zero at the termination

Q) Springer
218

point, the control inputs often fluctuate. This research shows
the same, i.e. rudder output fluctuates severely, which is not
practically applicable at all. The same happens to the propel-
ler revolution, which fluctuates from ahead to astern without
maintaining any standard order that a ship handler uses to
follow in real ship operation. However, the practical appli-
cability of this controller is still uncertain. Yulie et al. [40]
treated the berthing problem by dividing the planning and
control modes into two phases: the remote phase and the ter-
minal phase. For trajectory planning, he proposed to use an
improved artificial potential field method based on the analy-
sis of environmental constraint, berth point constraint and
ship’s dynamics constraint. To avoid the obstacles, he used
an obstacle compensation scheme and attraction—repulsion
technique. Also, to control the ship heading and speed, he
proposed an adaptive fuzzy PID control, where he tuned the
control coefficients using fuzzy rules for remote and termi-
nal phases. Although the newly proposed control technique
works effectively for his experiment, defining the obstacles
and planning the virtual targets for the terminal phase need
efforts and experience.

Zhang et al. [42] , on the other hand, proposed a novel
PID-based nonlinear feedback algorithm driven by bipolar
sigmoid function for course keeping under the condition of
propeller stopping and reversing. This research focuses on
smoothing the performance of robustness during the low
speed running when the ship’s dynamic motion becomes
highly nonlinear. With the simple model of ship dynamic,
theories based on the stability theory of Lyapunov, such as
sliding mode control, back-stepping technique, were also
suggested by other researchers. However, none of those was
able to mimic the action that a ship handler does in a real
situation. Also, the user needs to get the desirable ship’s
coordinates to follow up using these controllers, which is
difficult and inappropriate to ship berthing problems.

Considering the applicability of intelligent control tech-
niques for ship berthing, Fuzzy theory is not appropriate
in this regard as it requires defining the fuzzy rules in all
prospects and to do so in an unpredictable environment with
drastically reduced ship manoeuvrability is quite impossible.
On the other hand, to establish an effective expert system,
all possible rules must be defined in a written form, which is
also difficult for berthing manoeuvring. Therefore, the best
option left is to choose the ANN controller, which can learn
and replicate any nonlinear phenomenon, such as ship berth-
ing. Both adaptive and supervised approaches for ANN con-
troller have been tried to execute automatic berthing. To deal
with the dynamic uncertainty and unknown disturbances,
the adaptive ANN technique is considered to be a powerful
tool by many researchers. Nguyen and Jung [3] used the
adaptive ANN controller online training instead of off-line
training to train the control signal of the rudder and the pro-
peller, respectively. Liu [4] also designed an adaptive ANN

Q) Springer

Marine Systems & Ocean Technology (2020) 15:217-242

controller, which partially solved the berthing problem by
the path following method with ship model uncertainty and
external disturbances. Later on, Zhang et al.[43] proposed
an adaptive neural network for auto-berthing control where
robust neural network (NN) adaptive approach based on the
navigation dynamic deep-rooted information (DRI) [5] has
been used to reconstruct the lumped uncertainties caused by
unknown ship dynamics and external disturbances. How-
ever, the proposed controller has its limitation for berthing
a ship from all possible starting points and force/moment is
considered as a control input instead of propeller revolution/
rudder angle. It means that although unsupervised ANN has
been tried to cope up with the uncertainties during berthing
manoeuvre, shortcomings are still there. In comparison to
that, supervised ANN control to tackle the berthing problem
found to be more precise, as described in the latter part of
this manuscript.

As an artificial neural network (ANN) consists of several
interconnected simple nonlinear systems that are typically
modelled by the transfer function, it has the capability to
learn any nonlinear system and gives us a reasonable solu-
tion in any unpredictable situation. An ANN controller
for ship berthing was first proposed by Yamato et al. [6],
but later on, he changed his research direction towards an
expert system. Further, a parallel neural network control-
ling scheme together with an expert system was proposed in
Hasegawa and Kitera [7] and Im and Hasegawa [8]. These
researches were intended to replace the previously used sin-
gle control scheme by two separate feed-forward NN con-
trollers to control rudder and propeller revolution separately.
This was a major breakthrough in the research of automatic
berthing as it boosts up the learning ability of the control-
ler to a great extent. To deal with the wind disturbances,
a rule-based motion identification method using ANN for
detecting ship’s lateral velocity and yaw rate was also pro-
posed by Im and Hasegawa [9]. However, the success in the
presence of wind disturbances was not up to the mark. Im
et al. [10] continued his research and proposed a selective
berthing controller, where the total berthing area is divided
into several sub-areas, and each selective controller is used
to guide the ship from one sub-area to other. In this way,
greater flexibility was taken into account in the proposed
ANN controller. However, one of the major shortcomings in
the aforementioned research works was lack of consistency
in the teaching data as the researchers used the joystick or
push button in Matlab to control the data manually.

Meanwhile, Mizuno et al. [11] proposed a new minimum
time ship manoeuvring method using ANN controller and a
model predictive compensator. In this method, the ANN was
used for interpolating the pre-computed minimum time solu-
tion for real-time control. This research showed a way of cre-
ating teaching data automatically for ANN controller. Later
on, this method was used to solve the consistency problem
Marine Systems & Ocean Technology (2020) 15:217-242

in teaching data by Xu and Hasegawa [12]. However, the
optimized data were not realistic as the process used many
constraints to satisfy at the same time. His work was further
upgraded by the author of his paper [13, 14] by introduc-
ing a virtual window concept using Nonlinear Programming
(NLP) language method for minimum time course changing
to ensure consistency in the teaching data. He also used two
multi-layered feed-forward ANN controllers as proposed in
Im and Hasegawa [8] to control the rudder and propeller
revolution, respectively. To cope with the wind disturbance
while low speed running, the author proposed an assisting
bang—bang PID controller with ANN for rudder control. On
the other hand, the propeller revolution was controlled as
usual by the trained ANN throughout the whole berthing
process. To make the berthing plan more realistic, he also
followed the procedure mentioned by real ship handlers
by dividing the total berthing manoeuvre into three basic
elementary manoeuvres. The first is course changing when
the ship has relatively high acceleration; then, it is followed
by course keeping with gradual speed reduction, and at last,
propeller reversing to stop the ship close to the pier. By fol-
lowing this strategy, he successfully managed to do ship
berthing simulations under wind disturbances, and later on,
conducted ship berthing experiments with the trained con-
troller to justify its effectiveness in real situation operation.
So far, a very limited number of experiments have been car-
ried out for automatic ship berthing, and this research is one
of those which demonstrates the effectiveness of the trained
controller to berth a ship under wind up to 15 m/s from any
direction [15]. In addition, to make the trained controller
more versatile and universal to all port operations, a proper
strategy to convert the original GPS data to a compatible set
data for the trained controller was explained and verified for
berthing experiments. Monte Carlo simulations were also
done, and the frequency distribution of success indexes was
plotted to know the tendency of convergence.

Im and Hasegawa [8, 9] did some noticeable development
in the field of automatic ship berthing. In recent times, in
continuation of his previous work, Im and Nguyen [16] pro-
posed an ANN controller based on a head-up coordinate sys-
tem. Such ANN controller was trained for an original port,
and later on, it was used for other port without retraining
it. The main object of this research was to make the trained
ANN universal to all port operations, thus, eventually, save
time and effort to retrain the controller. But, he doubted that
head-up coordinate system might contain error by radar on-
board the ship. Therefore, in the following year, Nguyen
et al. [17], his co-researcher, proposed an ANN controller
with new inputs that were determined by the distance meas-
urement system. Recently, Nguyen [18] proposed an inte-
grated neural network by including three negative sign with
the head-up coordinate system [16]. His newly proposed
controller is capable of berthing on each side of the ship in

219

different ports. On the other hand, Lee et al. [19] focussed on
overcoming the extrapolation problem of ANN and improv-
ing the training function. He considered recent activation
functions, weight initialization methods, input data-scaling
methods, a higher number of hidden layers, and Batch Nor-
malization (BN). He analysed the effectiveness of each part
based on loss functions, berthing performance histories and
berthing trajectories.

Although the above-mentioned researches contributed
significantly to increase the scope of implementing auto-
matic ship berthing in the real world, they only focused on
how to manoeuvre a ship automatically from an arbitrary
point to a defined safety zone nearby a pier, not to a par-
ticular pier position. Usually, in harbour, a single rudder—
single propeller ship often requires the assistance of tugs
or side thrusters to control the surge, sway and yaw motion
to finally align the ship to the pier. This is the last part of
ship berthing, and to complete the whole berthing process,
researchers also need to design a controller that can calculate
the adequate amount of tug forces to execute the crabbing
motion under reasonable wind disturbances by observing
the ship response. As this last stage of berthing incorporates
a very low ship speed, most of the time, the signal—noise
ratio becomes low enough for any controller to separate the
noises from the actual ship motion. Initially, Bui et al. [20]
tried to solve this trust allocation problem using the redis-
tributed pseudo-inverse approach to determine the thrust and
direction of each tugboat with a goal to minimize the power
supplied to the tugboat. However, this paper considered the
side thrust applied to the hull is always perpendicular to it
and also ignored the pulsating nature of thrust output.

Later on, ANN had been investigated [21] to control bow
thrusters and tug boats. The proposed ANN could control the
rudder, propeller revolution, bow thruster, and tug simulta-
neously, but the researcher overlooked the wind disturbances
in this research and teaching data were not consistent either.
Meanwhile, Park and Kim [22] proposed an adaptive con-
troller to control the propellers of a cruise ship for crabbing
motion under wind disturbances. This back-stepping based
controller can only be employed in crabbing motion where
the surge speed of ship is zero, which is not true for berth-
ing manoeuvre. In recent years, the author of this paper,
Ahmed [23] mentioned a set of PD controllers for executing
crabbing motion under wind disturbances. In his study, he
used two side thrusters located at bow and stern, respec-
tively, to control the sway motion and bearing angle and
one longitudinal thruster to control the surge motion and
ship position. The author tested the controller under a gust
of wind from different directions, which is more realistic
and also carried out real-time simulations to know the actual
ship response under the proposed controller. Therefore, this
work has been chosen together with a recent work done by
Nguyen et al. [39] , where he used Fuzzy logic to execute the

Q) Springer
220

crabbing motion. Nguyen et al. [39] proposed three separate
fuzzy controllers in this research. First is to control the lon-
gitudinal movement of ship normal to the pier by control-
ling propeller revolution; second is to minimize the bearing
error by controlling tug, and third is to execute the crabbing
motion by controlling bow thrusters and tug simultaneously.
The proposed controller also showed interesting results, as
in Ahmed [23]. However, the researcher did not consider
the wind disturbances to treat with the proposed controller.

As can be seen, researches mentioned above contain some
outstanding results as well as some shortcoming. Therefore,
this paper is aimed to focus on the major challenges that
the researchers face to design a well-trained ANN control-
ler for berthing and highlight some of the recent research
works to fulfil the shortcomings. The paper is organized as
follows: Sect. 2 includes a brief description of the math-
ematical model used for ship motion prediction. In Sect. 3,
the importance of maintaining consistency in teaching data
has been discussed with the implementation of optimization
techniques. Section 4 describes different ways to make a
trained ANN universal to berth a ship to any port. In Sect. 5,
the effectiveness of an ANN-PD controller has been dis-
cussed over other proposed controllers under gust wind. Sec-
tion 6 explains the last stage of berthing controller, which is
to finally align the ship with a pier; finally, Sect. 7 concludes
the review work with a summary.

2 Mathematical model for ship motion
2.1 Prediction model for ship motion

There are many types of mathematical models proposed
so far to simulate the ship manoeuvring characteristic.

Relative /
inflow
velocity
U(x y,z )

Fig. 1 Schematic diagram of
MMG model (Ogawa and Kasai
[25])

H = Ship hull
P +: Propeller
RA: Rueider

D) Springer

Marine Systems & Ocean Technology (2020) 15:217-242

The simplest and the well-known model is ‘rudder to yaw
response model’ or ‘K—T’ model, which describes macro-
scopically a ship’s rate-of-turn response to any given rud-
der angle [24]. Such a model is good for predicting weak
motion with negligible variance in surge motion. However,
for hard turning with speed loss, ship idling or reversing,
this model is no longer usable. As ship berthing manoeuvre
involves speed reduction, stopping, and propeller reversing,
a more rational model has to be used for accurate prediction
of ship response. Most of the researchers in this field suggest
a mathematical model named MMG (Manoeuvring Mathe-
matical Group) to use, which is based on the individual open
water characteristic of hull, propeller and rudder together
with their interaction effect. More details of this model could
be found in Ogawa and Kasai [25], Matsumoto and Suemitsu
[26], Inoue et al. [27] and Ahmed [28]. A schematic diagram
of MMG model is given in Fig. 1.

The local and global coordinate system used to con-
struct the mathematical model is given in Fig. 2a. Figure 2b
describes other assumptions considered for berthing pur-
poses by most researchers.

As the total berthing manoeuvre is divided into three
basic elementary manoeuvres by the ship handlers, which
are course keeping, course changing and propeller reversing;
the imaginary line shown in Fig. 2b is used at the second
stage of berthing manoeuvre as a reference line for course
keeping part with step deceleration. Usually, the reference
line is imagined to be at an angle of 30 to 45 with the
pier and at a length of ISL to 20L. In addition, Kose et al.
[29] proposed two concepts by analysing the manoeuvring
procedure followed by the captain in case of real large ship
to ensure safety. One is that the goal of berthing manoeu-
vre is Supposed to be at some interval distance from pier
instead of approaching the pier board to board. The second

Mechanical reactions

 

S : Effect of streamline motion W : Wake generation
V : Effect of viscosity J : Propeller flow field
G : Effect of gravity C : Rudder flow field
Marine Systems & Ocean Technology (2020) 15:217-242

Assumed
Successful

Zone 1.5L

 

(a) Coordinate system

Fig.2 a Coordinate system, b Assumptions during berthing [13]

one is planning a manoeuvre that allows a well-to-do opera-
tion in case of any critical situation. Like other researchers,
Ahmed and Hasegawa [13] considered his proposed advice
and assumed the goal point is at a distance of 1.5 L with an
intention to stop the ship within a 1.5L x 1.5 L area surround
to it as shown in Fig. 2b.

Ship berthing manoeuvre requires a MMG model to pre-
dict its ahead motion for any propeller revolution, motion
due to inertia when the engine is set to idle and motion
astern for propeller reversing. However, to construct a
full set of MMG 1s a very tough and challenging job, as it
requires to conduct a lot of captive model tests. Therefore,
some researchers [2] just rely on the ship’s ahead motion and
engine idling to complete the berthing manoeuvring. On the
other hand, Ahmed and Hasegawa [13, 14] used a complete
set of MMG for Esso Osaka 3-m model ship to train the
ANN with all possible motion, which enhanced the ANN
learning ability to carry out boosting like phenomenon in
any unpredictable situation.

Considering the origin at the centre of gravity (CG) of a
ship as shown in Fig. 2a, the equations of motion for surge,
sway and yaw motion are given as follows:

O Bert

Pier

 
        

|
hing Goal Point
|

(b) Assumptions during berthing (Ahmed and Hasegawa 2012)

(m+m,)u — (m+ m,)vr = X
(m+ m,)v + (m+ m,)ur = Y

where m is the mass of ship, m, and m, are the added mass
in x and y direction, J,, is moment of inertia, J,, is polar
moment of inertia, u is surge velocity, v is sway velocity, ris
yaw rate and the right side includes the total hydrodynamic
forces and moment term due to hull, propeller, rudder and
disturbance. The forces and the moment term in the above

equation are expressed as follows:

N =Ny + Np + Ne + Naiss

where X;,, Y;, Nj are hydrodynamic forces and moments
acting on a hull, Xp, Yp, Np are hydrodynamic forces and
moments due to rudder, Xp Yp Np are hydrodynamic forces
and moments due to propeller and X4;., Ygi,, Ngi, are disturb-
ing forces and moments like wind or current. There are dif-
ferent types of expressions used by researchers to get the hull
forces and moment. Ahmed and Hasegawa [13, 14] used the
following expression in his research.

D) Springer
222 Marine Systems & Ocean Technology (2020) 15:217-242
Advance (u > 0)
_?P 2 ! 1 of ! aly rp ! r
Xy = SLdU B(X,,(0) +X, Bo +X) pt X +X p )
_ ELdU?{ YpB + Vir" + YpoBIBI + ¥' rr] +(¥%, pO tVi, 0 r')pr }

ppr

N, = PLdu?{ Nop +N! +7! +Noph|B| +NUrIr| + (1;
Astern (u < Q)
Xy = FLdU?(Xi,,v'r! + Xiys|U' |v’)

Yu

PrdU?( Yl, + Yin! + ¥1,[r |r! + VF
2 vr rs rrs pr

 

Buz COS (Buz)

 

Ny = EL?dU?(N,,. + + Nir +N!

where the prime in each term denotes nondimensional val-
ues, X,,,(0) is the hull resistance in straight motion, Y,~ Y,.
and Np.~ B N are linear hydrodynamic derivatives, X BB~ xX BABB»
Xvrs~ Xuuv Vpp~ V per Yor~ Vor Neg~ Nor and Ny ~ Neorrs are the
nonlinear hydrodynamic derivate terms. To get the hydrody-
namic derivatives used in the above expression, experiment
data for Esso Osaka model ship in Hirano [30] have been
used. Other researcher, such as Nguyen et al. [17] used the
expressions as defined in Kyima et al. [31] and calculated
the hydrodynamic derivatives using empirical formulas.

Propeller thrust can be described by longitudinal force of
a propeller. The following expressions are used by most of
the researchers to calculate the propeller thrust.

Advance (u >= 0)
Xp = pDin"(1 — Ky

Astern (u < Q)
Xp = pX$D7(nDp)”
Yp= FYpLd(nD py
p
Np = 5 NpL'd(nDp),
where K; is the thrust coefficient, D,, is the propeller diam-
eter, 1 1s the speed of propeller revolution, X;, ~ N;, are coef-
ficient determined from open water test (Ahmed [28]).
On the other hand, the hydrodynamic forces and moment
generated by rudder angle can be expressed using rudder
normal force and rudder angle as follows:

Q) Springer

”)

rs | + Noprs(PBNL COS (Byi))°

b+Ni,,1" )Br' }

r+ Nonrs |BNL COS (By) Ir’),

Advance (u >= 0)

Xp = -SLdv"(1 — tp)F ysind

Yp= -FLdv*(1 + ay)F ycosé

Np = —(ELP UN xg + dyX17)F yCosé

Astern (n < Q)

Xp =
Y, =0
Np = 9,

where tp, ay are coefficients, xp and x,, are the distances from
the rudder and the propeller to the ship’s centre of gravity,
respectively. F’,, is the rudder pressure and 6 denotes the
rudder angle [28].

2.2 Wind model

A very few researches on ship berthing have considered
wind disturbances so far. Im and Hasegawa [9] considered
a uniform wind disturbance in his research. Fujiwara wind
model [32] could be used for calculating the wind forces and
moment in this regard. The following equations are used for
such calculation.

la
_l

~5 5 CyP VAL

]

where Lo, is length overall of the ship, A; is transverse pro-
jected area of the ship, A, is lateral projected area of the
ship, Vp is relative wind speed, Xy is fore-aft component
of wind force, Yy is lateral component of wind force, Ny is
yawing moment and Cy, Cy, Cy are the coefficients calcu-
lated using Fujiwara’s model.
Marine Systems & Ocean Technology (2020) 15:217-242

To make the disturbances more realistic, Ahmed and
Hasegawa [13, 14] used gust of wind using power spectral
density function S(@).

M
C(t) = V21(c0)/M J cos(@pt + En):
m=1

where ae = 2I(co)/M, I(@) = f S(@)do, €,, = 2aP., (Pn:
0

random numbers, O0<P,<1), @ satisfies
I(@,,) = (2m — 1)I(eo) /2M.
The power spectrum of wind expressed by Davenport [33]

is used as follows:

m

U? r
S(@) = 8xk—2 —*~___,
@ d + x! )4/3

x!
(- CT 4 x?)4/3 9
where M is an assigned integer number, k=0.003 above the
water surface, U,, is the average wind velocity at 10 m high

above the water surface and x’ is nondimensional frequency
_ 6000

mU yy

3 Consistency in teaching data
3.1 Importance of consistent teaching data

The effectiveness of a trained ANN controller depends on
its learning ability while training it. Therefore, teaching data
always play a vital role in this regard. Maintaining consist-
ency in teaching data would be a key factor to increase the
robustness of the controller. As ANN works based on its
interpolation ability, an inconsistent teaching data often
leads to confusion for a well-trained controller, and, there-
fore, might results an inappropriate outcome. While talking

   

_, {1+ 4: thruster adjustment
Definition 2 + 5: rudder adjustment
3: stop

Fig.3 Definition of joystick [2]

223

Ship position
T T

 

T T T
350 + os (1 Ck
initial heading 280°

T T

 

Zone of confusion due to having
overlapping trajectories

 

 

   

 

aaa initial heading 326° |
an | other initial headings |
- ship
200 |- 4
_ 150 |- s
&
x 100+ a

 

 

 

0 100 200 300 400 500 600 700
y (m)

Fig.4 Teaching data with tested condition [2]

about berthing manoeuvre, inconsistency in teaching data
could present in two different ways. First is in terms of ship
trajectories, where the researchers control the rudder and
propeller revolution manually to execute successful berthing
as a teaching data. Most of the researchers in this field prefer
to do the same. Figure 3 shows the joystick controller used in
Shuai et al. [2]. He used it to control both thrust and rudder
by a skilled captain. In spite of that, inconsistency was there
in the teaching data.

Figure 4 presents the data (dotted lines) used in this
research for training ANN controller. Here, the user assumed
a fixed initial position to start the docking with different
initial headings. Although all the dotted trajectories repre-
sent successful berthing, such a set of teaching data greatly
limits the robustness of controller as the ANN would barely
work if a ship starts from a position other than used in the
teaching data. In addition, the data consist of overlapping

Six cases of maneuvering pattern in
teaching data in original port

First case
Second case

Third case

+
a

by

Sixth case

: Fifth case
Fourth case

 

Fig.5 Teaching data for training ANN [17]

D) Springer
224

Thruster speed (rpm)
T T T

Marine Systems & Ocean Technology (2020) 15:217-242

 

 

 

-50 1 4 1 L 1
0 100 200 300 400 500 600
time (s)

(a) Propeller revolution control in

Shuai et al. (2019)

 

(b) Propeller revolution control in
Nguyen et al. (2019)

Fig.6 a Propeller revolution control in Shuai et al. [2]. b Propeller revolution control in Nguyen et al. [2]

Table 1 Constraints for optimal course changing [14]

Objective function Course changing time

Optimal variable Command rudder angle, 6-order

Initial Conditions Ship velocity Half Ahead
Heading angle w
Position (x, y)
Others v=0; r=0;6 = 0
Termination Condi- Heading Angle 240, i.e. 30 with pier
tions/Equality [deg]
constraints Position On the imaginary line
Ship velocity Free

Nonequality con-
straints

Rudder restriction |6| < 10/15/20/25[deg]

trajectories which possess confusion for an approaching ship
as indicated in Fig. 4. For this case, ANN finds 4 nearby tra-
jectories with no uniqueness to interpolate. This might look
a small matter, but it is actually crucial while thinking of a
controller’s real-time applicability for a full ship.

Figure 5 shows another set of teaching data used in
Nguyen et al. [17], where the authors used Matlab GUI to
manually control the ship rudder and propeller. Here, three
different positions are chosen as staring points and with two
different headings for each point. This set of teaching data
also includes crossing trajectories which might cause confu-
sion for the trained ANN for the cases as illustrated in Fig. 5.

Another type of inconsistency that could present in the
teaching data is the unplanned control of propeller revolu-
tion for berthing manoeuvre. As Endo [34] has surveyed
the contents of deceleration manoeuvring during the real
navigation cases, ships usually approach the berthing goal by
dropping the ship velocity step by step as a standard decel-
eration manoeuvring, such as dropping ship speed from Half
Ahead — Slow Ahead — Dead Slow Ahead — Stop Engine
step by step in a straight course. This standard approach
has to be maintained in the teaching data to make it more

Q) Springer

realistic. However, to execute such standard manoeuvre with
manual control is extremely difficult. Figure 6a, b shows
the inconsistent propeller revolution control for berthing
manoeuvre done in Shuai et al. [2] and Nguyen et al. [17],
respectively.

3.2 Consistent berthing plan and execution

To ensure safety and appropriateness in berthing manoeuvre,
Ahmed and Hasegawa [13, 14] proposed to divide the total
manoeuvring process into three basic elementary manoeu-
vres, which are course changing, course keeping with step
deceleration and propeller reversing, respectively. As a
subject ship, he used an Esso Osaka 3-m model ship. The
following two subsections describe the techniques he used
to overcome the shortcomings of previous researches and
created a set of consistent teaching automatically.

3.2.1 Consistency in course changing manoeuvre

To maintain the consistency in course changing manoeuvre,
a concept based on virtual window is proposed in Ahmed
and Hasegawa [15]. Here, virtual window denotes a safety
window which ensures a ship with any particular heading
passes through it will reach the imaginary line well ahead for
step deceleration. To get such window, the author mentioned
to use nonlinear programing (NLP) method with optimal
steering [11] which satisfies the set constraints for course
changing manoeuvre. The constraints set by the author for
optimal course changing are given in Table |. In the optim1-
sation process, Lavenberg-Marquardt algorithm is used with
the steepest descent method to update the Hessian matrix.
Details of this algorithm can be found in More’s [35] paper.

With this strategy, the author successfully managed to
create a set of teaching data, which includes not only a vari-
ety of ship heading, but also four different rudder angles in
course changing operation used as a nonequality constraint
as shown in Table 1. In addition, he did the optimization in
Marine Systems & Ocean Technology (2020) 15:217-242

225

 

Fig. 7 Optimized course chang-

Optimal rudder

 

 

 

 

 

 

 

 

ing for ship heading 150° to 15
reach imaginary line with rud- 7 Oo 20+
der constraint + 15° c ; | @
6 10 Imaginary line o,
= o O
8 o
QO 5 o
—  -20
x<
0 J 0 20 40 60
—— : : : t[sec
5 0 5 10 15 20 [sec]
Y/L position [-]
e
g 0.5 0.1 © 4 260
&, OD
> oo 3 {240
Led (@)) 4
5 oo 2 220
4 om
5? 0 20 1 200
© O 7180
5 2s
9 = = -1 ; 160
S03 0.1 8 > 2 140
> 0. ! -0. .
0 20 60 ae 0 20 40 60
t [sec] t [sec]

presence of gust wind to let the controller know the dynamic
of ship in presence of wind. Figure 7 shows an optimized
trajectory for initial heading 150 to reach the imaginary line
with rudder restriction + 15°.

By this way, the author automatically created a number
of similar course changing trajectories to make a consistent
set of teaching data, which is sufficient enough to make the
trained controller more robust. A similar approach has been
tried by Ahmed [41], where he proposed an ANN controller
for course changing manoeuvre.

3.2.2 Consistency in defining standard deceleration
manoeuvre

After the ship aligns with the reference line, deceleration
manoeuvring is performed by dropping ship speed. To main-
tain the consistency, a speed response equation given as fol-
lows was used by Ahmed and Hasegawa [14] to judge the
correct timing of propeller revolution change.

du(t)
dt

 

Li + u(t) = K,n(t),

where u(t) is ship velocity, n(t) is propeller revolution,
T,=m/X,, is the time constant and K,=k,/X, is gain. The
solution of the above speed response equation (Ahmed [36])
is given by

u(t) = ue ™ + K,n(O(1 ets ).

where u, 1s initial ship speed and K,,n(t) is steady ship speed
when propeller revolution keeping at goal step n/(t).

 

 

Rudder
BoB
|

 

 

 

 

50 100 150 200 250 300
20 T T T T T
a 0
-20
50 100 150 200 250 300
t [sec]

20 "

15
S
£ 10
oO
Q =
J \
> \

5

f
a
0
C—— 1 1 1 1
0 5 10 15 20
X/L position [-]

Fig.8 Complete berthing execution [14]

The sequence of telegraph order considered in this
research is Half Ahead (course changing) — Slow
Ahead — Dead Slow Ahead — Stop Engine — Propeller
Reversing. The step changing time is as much as time con-
stant T, of the ship speed response equation. Considering
t=T, in the solution of response, the equation results u(t)
as 63.21% of speed drop from its initial speed Uy. Thus,
each telegraph order is maintained as the ship’s speed drops
by 63.21% from its initial value throughout the whole step

Q) Springer
226

16

127
107+

X/L position [-]
N - © ©O

 

 

 

 

0 5 10 15 20
Y/L position [-]

Fig.9 Consistent set of teaching data [14]

    

Controller

2
{2 (roman
Rudder

ae cannons

Ship’s position

     
   

State vector

Fig. 10 Control strategy [15]

deceleration process. Figure 8 shows a complete berthing as
proposed in Ahmed and Hasegawa [14].

By this way, consistency is ensured not only during
course changing, but also in step deceleration stage. In addi-
tion, as the ship’s manoeuvrability decreases rapidly with
reduced speed and effect of wind disturbances becomes
severe gradually, the author suggested to use a PID control-
ler with bang-bang effect as given below for controlling the
rudder in step deceleration part.

6

order

> 0°,6

Marine Systems & Ocean Technology (2020) 15:217-242

Finally, a complete consistent set of teaching data as pro-
posed by Ahmed and Hasegawa [14] is shown in Fig. 9.

The control scheme proposed by the authors is given in
Fig. 10 for the whole berthing process. The strategy of using
PID for rudder control during low speed running together
with the ANN for propeller revolution control worked very
well and a lot of experiments had been carried out to justify
the effectiveness of the proposed controller.

4 Making an ANN controller universal to any
port

4.1 Training of Artificial Neural Network

Most of the researchers in this field preferred to use back
propagation technique while training ANN. This is based on
a gradient decent algorithm, where the network weights are
moved along the negative of the gradient of the performance
function. Matlab neural network toolbox could be utilized
for this purpose. While training a neural network, the three
functions which are: training function, transfer function and
performance function are very important to select properly.
Of course, the best choice depends on the nature of teaching
data. Considering the nature of berthing manoeuvre, training
function based on Lavenberg-Marquardt algorithm has found
to work best. The Lavenberg-Marquardt algorithm uses the
following approximation to the Hessian matrix in order to
follow Newton-like update:

where J,, is the Jacobian matrix that contains first deriva-
tives of the network errors with respect to the weights and
biases, e 1s a vector of network errors and y 1s a scalar value.
If « becomes zero, the algorithm is same as Newton’s
method and when large, it results gradient descent with a
small step size. Thus, » is decreased after each successful
step when the performance function is also reduced and vice
versa. In this way, the performance function will always be
reduced at each iteration of the algorithm.
In case of transfer function, log-sigmoid is found suitable
which is given as
= 10°

order

Oorder = Cy ** (Wy ~ y) ~ Cy ** y ~ C; ** d, > if Oorder = 0°, Oorder = 0° ’

)

order

where, y,, is desired heading, y is current heading, y is yaw
rate, d, is a deviation from the imaginary line, C1~C3 are
coefficients.

Q) Springer

< 0°,6

order

= —10°

 

Performance of the trained network is judged depend-
ing on calculated mean squared error value (MSE). If the
Marine Systems & Ocean Technology (2020) 15:217-242

normalized teaching data are considered in the following
form:

{DP}, qi}, {Po, qo}, tee {Pn An}

where p is input of network and g is target output. Therefore,
MSE can be calculated as follows:

lv. ae .
MSE = - 2 e(i? = . 2 (qi) — OD),

where O is output of network.
4.2 Construction of a Universal ANN controller

To construct an ANN controller that works equally well
for any given port shape and location, an appropriate set
of inputs, number of hidden layers and the corresponding
neurons in each layer have to be investigated for minimum
Mean Squared Error (MSE) value. The following subsec-
tions describe these parts in details.

4.2.1 Selection of inputs neurons
A proper selection of a set of input neurons plays a via-

ble role in making a trained controller globally accepted
for all ports. Although some of previous studies proposed

Fig.11 Different geographical
coordinate for different ports

Original port

Plan for LHS appropach

 
 
       

45 Virtual window

A+Ve
!

 

  
 
 
 

 
  

line perpendicular to pier
~
S

2

O«

Ma
I

 
 

45 N€te,

  

Fig. 12 Coordinate rotation during berthing experiment

 

 
 
 

227

well-trained controllers, but those are only capable to berth
a ship into a certain port for which those are designed to.
When arriving at different ports, these ANNs need to be
retrained or must have pre-trained controller for that particu-
lar port, which is time-consuming and expensive. Therefore,
the researchers must choose the input neurons that could
be treated universally in all port operation. The most com-
mon inputs that are used in previous controllers are the geo-
graphical coordinate of ship (x, y) in North-up coordinate
system as shown in Fig. 2b and the ship heading (y). But, the
geographical coordinates of a ship (;, y, y1) in the original
port are always different from those (x,, y,, y2) in other ports
as shown in Fig. 11. As we know that the ANN controller
fails to give expected outcome for inputs which are entirely
different from those considered in teaching data, these ANN
controllers cannot be applied to other ports.

This problem could be solved by considering the ship
states in terms of distance to the imaginary line (d1) and the
remaining distance to the berth (d2) as shown in Fig. 2b.
Ahmed and Hasegawa [14] followed the same approach in
his research where he mentioned two multi-layered feed-
forward neural network to control the rudder and propeller
revolution, respectively.

According to him, for command rudder output, input
parameters for the net are v: sway velocity; r: yaw rate; yw:

heading angle; (X, Y)relative: Ship’s relative position to pier;

    
 

x1#x2
- yl#y2
wit y2

x2 Other port

 

Fis Plan for RHS appropach

  
    

’ imaginary line

Virtual window

D) Springer
228

Ship maneuvering i
for teaching data
creation

Automatic berthing
in different ports

Original port

(42, V2, 2)
Prev = Prev
D> =D;
dig, dy) = diy), dy)

(uz V2, 72)= (Up Vp 11)

Other ports

 

Fig. 13 Automatic Ship Berthing in an original and different port [16]

6: actual rudder angle; d,: distance to imaginary line; d,:
distance to berthing point.

For propeller revolution, input parameters are u: surge
velocity; y: heading angle; (X, y)-elative: Ship’s position; dj:
distance to imaginary line; d,: distance to berthing point.

To overcome the difficulties in getting similar types of
inputs for different port, the author used a simple converter
before feeding the inputs to the network. He calculated the
relative position of the ship with respect to pier while acti-
vating the auto mode as shown in the following equations
to make the starting point similar to the point in virtual
window.

Xaitf =XGps — Xvirtual window
Yaite =YGps — Yvirtual window

Xrelative —*GPs — *diff

Yrelative —YGPS — Jaiff-

In addition, the imaginary line could be rotated if neces-
sary based on the port to approach and the converter will do
the necessary adjustment for the ship’s geographical posi-
tion relative to the pier to make it similar to those used in

North

Latitude

ry

  

Original port

  

" Longitude

Fig. 14 Proposed inputs in north-up coordinate system for ship berth-
ing with distance measurement system [17]

D) Springer

Marine Systems & Ocean Technology (2020) 15:217-242

teaching data. Two different arrangements of imaginary line
were considered by the author for doing the berthing experi-
ment as shown in Fig. 12.

On the other hand, Im and Nguyen [16] proposed a head-
up coordinate system for ANN controller to solve the above-
mentioned problem. He suggested relative bearing (Wrelative)
instead of actual heading (y) and distance from ship to berth
(D, d1, d2) instead of (x,y) to use as shown in Fig. 13. Using
the proposed input neurons, he trained an ANN controller
with six manually created teaching data for an original port
and successfully tested it for other ports. This time he used
one single network to control both rudder and propeller revo-
lution. The input parameters considered for the net were u:
surge velocity; v: sway velocity; r: yaw rate; Wo; ye: relative
bearing angle; d,: distance to imaginary line; d,: distance to
berthing point, D: distance between CG of ship and berth-
ing point.

Although both of these two approaches are similar while
considering the distance to the port, the teaching data con-
sidered in Ahmed and Hasegawa [13, 14] were based on vir-
tual window concept. Therefore, the author had to consider
the ship’s relative coordinate with respect to the origin (x,
Y)relative (berthing goal point) together with its distance to the
port (d,, d,) to boost up the network’s learning ability. On
the other hand, in Im and Nguyen [16], the network works
well only with distance to the port (d,, d,) as it considers
only 6 set of teaching data with not that much difference in
ship’s starting points.

Later on, Nguyen et al. [17] mentioned that the meas-
urement of the parameter in head-up coordinate system for
controller input commonly contains large errors because
of using radar. Therefore, the relative bearing and distance
from ship to pier might contain a large error. He proposed to
use distance measurement system in such case and suggested

Sensitivity analysis for rudder
T T T

S
oo

 

   

 

S
a

Sensitivity index
—)
he

 

0.2
0
surge speed sway speed x y heading angle
1 Sensitivity analysis for RPM
x 0.8
3
a
> 06
z
a 0.4
a
“02
0
surge speed sway speed x y heading angle

Fig. 15 Sensitivity analysis for rudder and propeller revolution [2]
Marine Systems & Ocean Technology (2020) 15:217-242

Comparison of minimum error with 10 unit fixed
in 2nd layer (Command rudder angle)

Fig. 16 MSE plot for neuron
determination [14]

MSE

Minimum

 

 

12 13 14 15 16 17

Unit in 1st hidden layer

Comparison of minimum error with 5 unit fixed
in 2nd layer (RPS)

4 10°

*— ,_ |

Minimum

MSE
no f 7 o 4

 

 

11 12 13 14 15

Unit in 1st hidden layer

16 17

Input layer Hidden layers
lo An Am

Vv. Who / \ Wena

Fig. 17 a Parallel multi-layered Output layer

neural network structures [14].
b Single-layered neural network
structure for rudder and propel- a
ler revolution control [16]

f

W\\iy

4
XX Wd

q
Yi
oF Nt

\\A
di:- se. \
dA

(a) Parallel multi-layered neural
network structures (Ahmed and Hasegawa,
2013)

MSE

Input layer

229

Comparison of minimum error with 15 unit fixed
in1st layer (Command rudder angle)

 

 

x 107
5
4+
»+——_ *
Lu .
“”) Minimum
= |
+t
0
8 9 10 11 #12 13 #14 «15

Unit in 2nd hidden layer

Comparison of minimum error with 10 unit fixed
in 1st layer (RPS)

-4

 

 

 

x 10

|
8 L 4
7h vu ]
e+ [4 *
Al Minimum |
At J
3f ]
at
1 L 4
O 1 1 1 L 1 L 1

45 5 55 6 65 7 7.5 8 8.5

Unit in 2nd hidden layer

Hidden layer
H,

 

(b) Single layered neural network structure

for rudder and propeller revolution control (Im and

Nguyen, 2018)

D) Springer
230

Table 2 Parameters for hidden layers after GA optimization [2]

 

é Rpm

 

t
Mo N MSE Mo N MSE

 

1.100x1lo-" | 2 12, 12 | 3.800 x 10-2
5

2, 12
2, iz 1.100 x 10" 12.12 3.800 x 10-*

   

 

3 12, 12, 12 3

. 9, 9, 12 2 12, 12, 12 3.400 x 10-

Z 9, 12,3 12,6, 12,12 | 3.100x 10-%
12, 6 7.547 $2, :0,:145:12 3.100 x 10-

 

3.100 x 10-3
3.100 x 10-7
3.200 x 10-7
3.200 x 10-4

= 076 =r}
5.976 x 10

5.673 x 10-7 |
6.430 x 10-7
7.419 x 10-7

12, 12, 12, 12
12, 9, 12, 12, 12
12, 12, 6, 12
12,35 12,12

12, 6, 12, 6
12, 6, 12, 12
12, 12, 12, 12

12, 6, 3, 12, 12 |

 

 

 

 

 

 

 

 

to use the distance from ship to berth D, distance from ship
to one target on wharf line H, the angle 0, and ship velocities
(u, Vv, r) as inputs while the rudder angle and propeller speed
are outputs. His proposed inputs are demonstrated in Fig. 14.

The aforementioned researchers considered the inputs for
the controller based on their knowledge and trial and error to
ensure minimum MSE value while training the ANN. On the
other hand, Shuai et al. [2] used feature selection method to
get the optimal input parameters. He established the correla-
tion among 12 different input parameters for ANN controller
and based on a set threshold value, he eliminated redundant
information. Then a variance-based Sobol method with a
distribution sampled from the original data was performed
on the ANN (Cheng et al. [37]). Figure 15 shows the sensi-
tivity index for 5 selected inputs, among which 3 inputs, 1.e.
x, y and heading are selected for rudder control and 2 inputs
including x and y are preferred for thrust control.

Although he showed a great effort to choose the inputs
scientifically, the results are obvious that had already been
used by other researchers based on their experience.

4.3 Selection of hidden layers and its neurons

So far there is no any particular rule to select the hidden
layers and neurons for the network. Therefore, most of the
researchers use trial and error and observe the minimum
MSE value after each training period. Im and Hasegawa [8,
9], Im and Nguyen [16] Ahmed and Hasegawa [14], Nguyen
et al. [17], etc., all used the same approach. The number of
hidden layers and neurons mainly depends on the complexity
of teaching data. In Ahmed and Hasegawa [14], two hidden
layers are found suitable to learn the teaching data and the
number of neurons in each layer is determined by confirming
the minimum MSE value. Figure 16 shows the plot of MSE
for different numbers of neurons.

From Fig. 16, the author conformed to use [8, 31] neu-
rons for rudder control and [6, 31] neurons for propeller
revolution control. His proposed neural network structure
is Shown in Fig. 17a. On the other hand, Im and Nguyen
[16] proposed a single network to control both rudder and
propeller revolution simultaneous with head-up coordinate
system. The proposed network consists of a single hidden

Q) Springer

Marine Systems & Ocean Technology (2020) 15:217-242

layer with 25 neurons. Figure 17b shows the network used
in his research.

Shouai et al. [2] also adopted the trial and error strategy
for this purpose but he implemented with GA. He set the
search for hidden layers as M € [2; 3; 4; 5; 6] and for the
number of neurons in each hidden layer as N € [0; 3; 6;
9; 12]. While using GA, he set each chromosome contains
the above two parameters, i.e. number of hidden layers and
neurons. He also set the crossover probability and mutation
probability of GA as 0.3. In addition, the stopping criterion
was set as the number of generations reaches 50. Table 2
shows the optimized hidden layers and number of neurons
in each layer.

Then based on the minimum MSE value, he selected the
best set for the neural network structure.

5 Effectiveness of an ANN controller
under wind disturbances

5.1 Berthing simulations under wind condition

Rudder is the only control input for a ship to maintain or
change its course. Effectiveness of this control surface
depends on the rudder inflow velocity. Therefore, rudder
works better when a ship has a high or moderate speed.
With the reduction of ship speed, the water inflow velocity
decreases, and so as ship’s manoeuvrability. The situation
deteriorates further in the presence of wind disturbances. As
a result, a well-trained controller might consider a rudder,
which is inappropriate for low speed running under wind
disturbances. A controller could also be trained with wind
information. However, due to its unpredictable nature, it
is quite confusing for a controller to distinguish the ship’s
actual response from the noise due to wind. Thus, to con-
trol the rudder appropriately under gust of wind during low
speed running is a challenging job, and, a very few research-
ers have successfully accomplished that so far.

Im et al. (2002) considered motion identification method
with rule-based algorithm to tackle static wind. However,
this proposed controller could not work well for parallel
wind. In addition, the controller was designed to reduce
the speed up to 0.2 m/s, which is quite a big value for real

Table 3 Standard for halting port entry and departure in Miike port
(official website)

Ship type Average wind speed
More than 1000GT 12 m/sec

Ships less than 6000 GT

Ships more than 6000 GT At entering port: 6 m/s

At departure: 10 m/s
Marine Systems & Ocean Technology (2020) 15:217-242

 

 

 

 

 

 

 

Shi iti
350 -— , ——— ' , ‘
300 dock
[| ——— initial heading 300°
250 |. | "initial heading 142°
— — — other initial headings a, i
: ship Seo ~ |
: ge
ef
6
“| ”
| ¢
aay Wind, V. = 1.5~4.5 m/s, 8. = 0° _s
ind, V = 1.o~ 9 m/s, a >
-150 1 | 1 1 1 1 1 |
0 100 200 300 400 500 600 700
y (m)

Fig. 18 Berthing results under dynamic wind [2]

blue= ANN-PID controller in wind, red= Optimal steering without PID in wind

P\pnn—_— |

0 50 100 150 200 250

250

 

X/L position [-]
n [rps] Rudder [deg

 

 

1 1 L 1
50 100 150 200

T T T T T
20
-20

0 50 100 150 200 250

50 100 150 200 250

 

Rudder [deg]

 

X/L position [-]
n [rps]

Rudder [deg]

 

X/L position [-]

n [rps]

 

 

 

Rudder [deg]

 

X/L position [-]

 

 

 

n [rps]

10

Y/L position [-]

15
150

t [sec]

 

231

No rudder taken

 

  

 

 

1
700

 

 
  

 

 

 

° 300 400 500 800
time (s) N .
Thruster speed (rpm) o reversing
200 . . 3
‘
-200 : 1 i |
0 100 200 300 400 500 600 700 800
time (s)
Wind speed V | (m/s)
. !

 

    

 

blue= ANN-PID controller in wind, red= Optimal steering without PID in wind

 

Rudder[deg]
1 1 1

 

 

X/L position [-]

n [rps]

 

 

 

 

Rudder [deg]

 

 

X/L position [-]

 

n [rps]

 

 

 

 

 

 

 

 

  

D
®
So,
_
= ®
= 3
2 5
= o
Oo
°
a
3 @
x< a
=
c
-10
D
oO
S,
wo ®
c 8 3s
2 6 5
= o
o 4
o 2
2 OD
x o 2
-2 Cc
0 5 10 15

 

Y/L position [-] t [sec]
sec

Fig. 19 ANN-PID controller under average wind of 1.5 m/s from different direction [14]

ships. On the other hand, Shuai et al. [2] used both static
and dynamic wind conditions to judge his controller. He
investigated the results for wind towards north and ranging
from 1.5 to 4.5 m/s for a 93.79 m 4925 DWT ship. Now, con-
sidering the applicability of any proposed controller for real
ship operation, the controller must cope with the maximum
wind disturbances allowed for ports to ensure safe entry.
Table 3 shows the standard of port Miike, Japan for halting
port entry under windy condition.

Therefore, the controller in Shuai et al. [2] must be able to
berth the ship successfully under wind up to 12 m/s, which
has not been investigated. Also, parallel wind is the most
crucial to make a ship berth which is yet to check for this
controller. In addition, the controller did not take any rud-
der while slowing down near by the pier and no reversing
was considered to stop the ship finally as shown in Fig. 18.
These two phenomena are very rare in real ship operation
and could be threatening for ship safety under gust of wind.

D) Springer
232

 

 

 

 

 

 

   

 

 

 

 

> 20
15} &,
— o 0
= 8
5 S -20
g10 o
no
°
a
— 5} _
x > 20
Zz,
a O
t ©
° 3
3-20
0 5 10 15 20 oc 1 1
we 300 400
Y/L position [- ANN prolongates half-ahead stage
20 —_
> 20
= ®
Q 10 oS,
al = 0
©
c 0 Oo
S-20
-10 o 1 , 1 1
0 100 200 300 400 500 0 100 200 300 400

t [sec] t [sec]

 

Marine Systems & Ocean Technology (2020) 15:217-242

Rudder [deg]

 

 

X/L position [-]

0 5 10 15 20
Y/L position [-]

 

Rudder [deg]

100 150 200 250

 

ANN boosts the rps nearby the pier

 

 

Rudder [deg]

 

 

150 200

100
t [sec]

750 0 50 250

0 50

200

Fig. 20 Simulation results for ship starting from same and different starting point [14]

    
 

oo Non-dim distance from goal point

Tt
' . . . . . .
@ mame histogram non-dim_dist —@®—median non-dim_dist
io
'@

Oo =

ea: ch

m i
'

Oo

Oo

N

Oo

| |

ci

Non-dim distance

oOo Fe -—#@..3..8.._.2%.82..8._23.. 24 ..85._.8 _3-=S- -
AMWDAADAWAA AAA AAA AI AAAAAAAI AHA W
ain ns 8 Oh BO ye ee ee oe
ate Saat Sees gate were es eee

AN MT NOR WA KDA NMA NDTWMOKRAWAANNMNM NH
SES: HS ee: ES 8 ee eS To ee ee ee See N ”m

Fig.21 Histogram and median value plot for Ad’

On contrary, Ahmed and Hasegawa [13, 14] realized
the fact that controlling propeller revolution would not be
a problem under wind disturbances if a ship could keep its
course as expected for berthing. Therefore, he proposed to
alter the ANN for rudder control during low speed running
by a PID controller. Also, while proposing the PID control-
ler, he changed its output to a bang-bang form of +10° to
enhance the controllability. In short, he used an ANN con-
troller followed by a PID controller for rudder control and a
well-trained ANN controller with consistent teaching data
for thrust control. A brief detail of this control scheme could
be found in Sect. 2 of this paper.

To judge the controller’s practicability, wind up to 1.5 m/s
was considered for a 3-metre model ESSO OSAKA tanker
ship, which is equivalent to 15 m/s for a full scale. Gust
of wind from all possible directions were also taken into
account as shown in Fig. 19. This figure compares the result
for ANN-PID and without PID controller to demonstrate the

D) Springer

Heading error
300

gum histogram Psi_error —@—median Psi_error
250

   

200

  

frequency

150

100

50

Ye lS ol on lh lak oo gM a
S LS © ae a -~ ¢ &” i 4 > ow > &
eo SF Sf SF SF HF eo fF SF Ff YF S
Psi_error

Fig.22 Histogram and median value plot for Ay

effectiveness of the proposed combined controller to bring
the ship near to the goal point. This research assumed the
ship velocity as lower than 0.05 m/s and a position within
the area of 1.5 Lx 1.5 L (shown as a blue box) surrounding
the berthing goal point as successful berthing conditions.
Figure 20 shows two interesting results from his paper.
The left one is for ships staring from a fixed point with three
different headings. For heading 160, due to gust of wind
somehow the ship heading changed suddenly at the initial
stage. Therefore, ANN controller constantly maintained half
ahead speed for which it had been trained and adjusted its
heading gradually to turn back to the reference line. Later
on, PID controller was activated and continued its effort to
align the ship with the imaginary line. At the same time
ANN controller gradually decreased its speed maintaining
a proper telegraph order and finally stop it near by the goal
point. The right figure shows simulation results for ships
starting from three different points with the same initial
Marine Systems & Ocean Technology (2020) 15:217-242

   

1000 , ;

am rs surge velocity error (target value 0.05m/s)
ie
; @

800 S MM histogram u_error —@®—median u_error

600

400

200

=0 0-0.09

 

0.1-0.19

u_error

0.2-0.29 0.3-0.39

Fig. 23 Histogram and median value plot for Asurge

heading. Here, ANN showed its potentiality by increas-
ing the propeller revolution just before reversing to push
the ship a bit further as its velocity drops suddenly due to
gust. Similar results were shown in his research [14] where
ANN did boosting like phenomenon if necessary under wind
disturbances.

5.2 Stability analysis using Monte Carlo simulations

To analyse the reliability of the controller, Ahmed [36] con-
sidered the Monte Carlo simulations for the first time. To
generate the random numbers, uniformly distributed pseu-
dorandom numbers are chosen. Such random numbers are
generated for ship’s staring point, heading, average wind

233

velocity and wind direction. Then, around 970 cases are
investigated which cover all virtual window areas. Three
parameters are considered as success indexes. The indexes
are: Ad’, nondimensional distance of ship from the final
goal point after stopping; Ay, heading error from the tar-
get value 240°, and Asurge, final surge velocity from target
value 0.05 m/s.

Figure 21 shows the histogram plot of first success index,
Ad’. It clearly shows the maximum frequency occurs at
0.1 L—0.19 L intervals that is 29.66% of total sample cases.
Then, the frequency gradually decreases with the increment
of nondimensional distance value. Beyond 1.12 L, the per-
centage gets less than 1.0. Here, the total success rate is
91.45%.

The histogram and the median value plot for heading
error are shown in Fig. 22. It shows that the maximum fre-
quency occurs at 20°—20.9° interval, which is 28.73% of
total sample cases. This will actually make the final ship
heading parallel to the pier. Beyond that maximum fre-
quency, in both positive and negative directions, the fre-
quency gradually reduces. Moreover, the histogram plot also
shows that the frequency distribution of heading error shifts
a bit right, i.e. towards the starboard side.

Since the tugs are expected to assist the ship later to
align it with pier, the heading error within the shown limit
is acceptable for further tug assistance if the vessel is clearly
stopped. Thus, analysis of final surge velocity is very impor-
tant to ensure the success of berthing.

 

Anemometer
data

Stepping Motor
Driver

propeller Revolution

Stepping cw/CCW
Motor

 
 

Revolution
Driver |__|
Driver

CW/CCW

  

Fig. 24 Free running experiment system

    
    
  
 

On board computer

Realtime
analyse and keep | Personal Computer
data

 

Angular

velocity Fiber Optical

Gyroscope

XA

Acceleration

 

   

Radio Controller

Qe
[Se

D) Springer
234

20

rudder [deg]

0 100 200

X/L position [-]

 

0 5 10 15 20
Y/L position [-]

-20 |

oO

rudder [deg]
X/L position [-]
on °

100 200

ANN result for rps

20

   

20}

0 100 200 300 400 0 100 200
t [sec]

t [sec]

Fig.25 Berthing experiment (LHS approach)

Figure 23 shows the histogram and the median value plot
for surge error. It shows the maximum frequency occurs
when the error is almost zero. Such case occurs is 86.92%
of total sample cases. This clearly shows the controller is
effective enough to stop the ship within the desired zone.
Beyond that maximum frequency, it gradually decreases to
a smaller value.

By this way, a clear idea was established about the suc-
cess rate of the proposed controller under gust of wind.

Nh
oO

rudder [deg]
oO

0 100 200

X/L position [-]

rudder [deg]
oO

Oo

ol

Marine Systems & Ocean Technology (2020) 15:217-242

ANN-PD result for command rudder angle

o1

300

a
So
oO

300

aS
oO
Oo

 

10 15 20 25
Y/L position [-]

300 400

5.3 Berthing experiments under wind condition

To do the validation of an autonomous controller, it is impor-
tant to do model ship experiments. Doing such experiments
in a closed basin, often raises questions about the limitation
of basin size to fully testing the ship’s performances. There-
fore, researchers are very keen to do such navigational tests
in open spaces like a pond or river that allows the model
ship to face the real environmental disturbances. Ahmed and
Hasegawa [15] also planned to validate his controller for
Esso Osaka 3-m model ship that Osaka University has and

ANN-PD result for command rudder angle

 

 

 

5 10 15 20
Y/L position [-]

 

 

 

rudder [deg]
oO

ANN result for rps 0 100 200

300 7
c

Oo

type2 =
| Oo

oO

_J

. —
300 *<

 

type1 type3

NO
oO

Nh
oO

 

rudder [deg]
oO

 

 

 

 

0 5 10 15 20
Y/L position [-]

 

 

0 100 200 300
t [sec]

oO

Fig. 26 Berthing experiment (RHS approach)

Q) Springer

100 200
t [sec]

300
Marine Systems & Ocean Technology (2020) 15:217-242

used the system as shown in Fig. 24, to facilitate the berth-
ing experiments.

The whole system consists of three basic and important
sensors. One of them is global positioning system (GPS).
During the experiment, two real-time kinematic (RTK)
GPSs are used. One of them is kept fixed on the top of a
nearby building and the other one 1s mounted on model ship.
As a result, the model is considered to move with respect
to the fixed RTK GPS. By this way, the fixed RTK GPS
provides necessary corrections to get accurate ship position
and velocity as compared to using the single GPS unit. The
second important sensor is a gyroscope. It is installed at the
centre of gravity (CG) of the ship. The gyroscope is used
to measure any type of angular movement. Therefore, it is
responsible for calculating roll, pitch and yaw motion of the
ship. Third and the last sensor in the free running experi-
ment system is anemometer. This calculates the relative
wind force as well as wind direction during the experiment.

While performing the experiment from left hand side
approach, the researcher highlighted three different types
of controller’s responses as shown in left of Fig. 25. In type
1, the controller behaves accordingly as it was trained. The
controller initiates the starboard turn right from the begin-
ning and starts approaching the pier as planned. In case of
type 2, the controller takes port rudder first to compensate a
high existing yaw rate and it continues with that port rudder
until the ship completes one full turning. After that port turn,
it starts its approach towards the reference line. And in case
of type 3, the pre-existing yaw rate is not as high as in type
2. Therefore, although the controller starts with port rudder
to compensate the yaw rate, it takes starboard rudder soon
after that and starts its approach for berthing. The right of
Fig. 25 shows other experiment results for LHS approach.
A proper justification of such behaviours is given in Ahmed
and Hasegawa [15] with a scope of further improvement in
this research.

Input layer

Hidden layer

Output layer

  

Fig.27 ANN controller proposed in Tan and Im [38]

235

Xo
Area 1: Ship
starting point

    

Area 2: Bow thruster &
stern tugboat are used

Wharf Yo

Fig.28 Berthing plan with auxiliary devices

In case of RHS approach, he also categorized the results
into three groups as shown in the left of Fig. 26. Type 1
presents the group where the controller behaves in a similar
manner as it was trained. It initiates with port turning and
starts approaching the reference line. Type 2 represents the
group when the wind is beyond permissible limit. Therefore,
the controller fails to bring the ship close to pier and berth-
ing fails. Type 3 also represents the results when the wind
is high; however, the controller manages to bring the ship
very close to pier or sometimes exceeding it. The right of
Fig. 26 shows some successful implementation of berthing
experiments for RHS approach.

 

 

Fig.29 Teaching data for the second stage [38]

D) Springer
236

 

Fig.30 Simulation result for the combination of two stages [38]

Fig.31 Simulation result using
fuzzy logic controller [16]

D) Springer

v [m's)}

F [radia]

u [ms]

2000

450

on

s
rE itee _——_ z \, f
nasa a :

Marine Systems & Ocean Technology (2020) 15:217-242

6 Final alignment of a ship to pier

6.1 Controlling crabbing motion with Al based
controller

A ship is considered to complete its berthing after being
pushed into wharf position under desired velocities to hold
the mooring lines on land. Tugs and thrusters are usually
utilized to execute the crabbing motion at the final stage
of berthing before mooring to ensure safety. Although the
above-mentioned researches contribute greatly to bring
automation in ship berthing, most of those only focussed
on bringing a ship automatically up to an assumed berth-
ing zone which is some distance away from the actual pier.
Therefore, controller must be designed to finally align the
ship to pier. A few researches have been done so far in this
regard with commendable outcome. As an ANN control-
ler can mimic the action of a ship handler, this controller
has been proposed to control auxiliary devices, such as bow

L

ir
|

t

!
Marine Systems & Ocean Technology (2020) 15:217-242

Current ship states

        
   

  

Ship States
(Initial, desired, and
current states)

Calculation-Parameters
Module

he Kee ww rw rr rrr ree

Decision Making Module

Fig.32 Control strategy for automatic ship berthing support system
(Im and Nguyen [16])

Fig. 33 Interaction force
induced by push—pull mode [22]

 

thruster and tug by Tan and Im [38] as shown in Fig. 27.
Here, the researcher considered four outputs from an ANN
including rudder, propeller revolution, bow thruster and tug.

He divided the total berthing plan into two areas as shown
in Fig. 28. According to that, he created two different set of
teaching data for area | and area 2, respectively. The teach-
ing data considered for area | are the same as in Im and
Hasegawa [8, 9]). For area 2, he considered the ship having
an initial surge velocity in a range of 0 to 0.5 m/s for the
crabbing motion. The data used to train the net for area 2
are given in Fig. 29 without considering the effect of wind
disturbances. Finally, he tested his trained controller for no
wind condition as shown in Fig. 30 and put the consideration
of wind for his future work.

Fig. 34 Block diagram for the
control scheme [22]

    

Desired State
state error
+

237

Later on, he changed his approach and tried Fuzzy con-
troller for controlling crabbing motion (Nguyen [39]). He
proposed three different fuzzy controllers to use in three dif-
ferent steps. At first, one fuzzy controller is used to bring the
ship according to longitudinal direction into anywhere on the
normal to wharf. After that, the second fuzzy controller is
employed to correct the ship’s heading and make it parallel
to the wharf. At last, the third controller is used for execut-
ing the crabbing motion that is to push the ship to the wharf.

A sample simulation result using the proposed fuzzy logic
controller is shown in Fig. 31. The control scheme that he
mentioned in his research is shown in Fig. 32. This research
also has not considered the wind disturbances.

6.2 Controlling crabbing motion with feedback
controller

Crabbing is a pure sway motion for which tugs or side
thrusters are often preferred. As the ship’s manoeuvrability
decreases drastically at this stage, the tug operators must be
aware of the disturbance effect and adjust the tow or pulling
forces by seeing the response of the ship. To assist the ship
handler to do so and to eliminate the possibilities of human
error, both ANN and Fuzzy controllers have been tried as
mentioned above. However, they only work well compara-
tively in no wind condition. This is because there is no easy
way to maintain consistency in teaching data under uncer-
tain wind disturbances and fuzzy rules cannot be defined for
all unforeseen situations. To tackle this problem, a different
approach has been tried with feedback controller by Park and
Kim [22] and Ahmed [23]. Park and Kim [22] used an adap-
tive back-stepping controller for berthing a cruise ship under
wind loads. He proposed three degrees of freedom equations
of motion for crabbing motion and used an adaption law
with the feedback controller to control push—pull mode as
shown in Fig. 33. The control algorithm that he proposed is
shown in Fig. 34, where he considered two propellers and
two bow thrusters as control inputs. He tested his controller
for auto-berthing under a wind corresponding to Beaufort 7
without the aid of tug boats and found satisfactory results as
shown in Fig. 35. One of the shortcomings of this research

  
 
  
 
 
 
  

Environmental
disturbance

D) Springer
238

150

100

 
     
 

|

v
| fi
mt

ORR RR RK KC RR RRR Re ee eR Re Ree eee eee

\ a

    

TN

 

\

i

   
 

Fig.35 Trajectories and position vector of ship [22]

 

 

 

Environmental disturbances
(Only wind is considered)

Plant in
simulation

 

 

Forces due to
control action

XY
Actuators

Thrust values
(Decided by controller)

 

 

Wind force Motion equation
(Fujiwara wind (Predicted by
model is used) MMG model)

  

\

Fig. 36 Control plant for tug assistance [41]

Heading

4
0 » 9
270 5. 0
ss
ke Uy
SS

X/L position [-]

 

YIL position [-] 0

> A Runge-kutta Gill solver

 

 

 

 

v

State variables
and rudder info.

 

 

 

 

lant input Controller

Wind
vel [m/s]
}
Wind
vel [m/s]
|

Time [s]

Fig.37 Ship starts from (0, 0) with different headings

D) Springer

“****#ee*

*“*

  

X/L position [-]

Marine Systems & Ocean Technology (2020) 15:217-242

x, (mn)
oO
o °&

w(deg)

150

 

is it considers the surge velocity is nearly zero during the
crabbing motion, which is barely true. Also, wind from dif-
ferent directions is not tested for the controller to justify its
applicability for real ships.

Like other researchers, Ahmed and Hasegawa [14, 15]
also considered to automatically guide the ship and stop
nearby the pier for safety. Later one, he extended his research
to finally align the ship with pier and proposed a conven-
tional PD controller in Ahmed [23]. The plant to control in
his research is shown in Fig. 36. He considered gust of wind
up to 1.5 m/s for an Esso Osaka 3-m model ship, which is
15 m/s for full scale. The methodologies considered while
designing the PD controllers are heading angle correction
in terms of minimizing the difference between the X-coor-
dinate value of fore and aft peak of ship measure from the

 

1-05 0 05 1 ° 80 100 150
Y/L position [-]

Time [s]
Marine Systems & Ocean Technology (2020) 15:217-242

X/L position [-]

 

2
- 0
Y/L position [-] 0.2

Time [s]

Fig. 38 Ship starts from different points with heading 270°

Starting point (35m, 47m)

X/L position [-]

 

 

200 400 600 800
20
D
2 0
Cc A
-20
0 200 400 600 800
0 5 10 15 20 gy
as z .
Y/L position [-] =
© 0
S
K-01
0 200 400 600 800
" pr! |
= 0
-”
-0.1
0 200 400 600 800
=> 02
" -—.-——_|
a O
Cc
2
K-02
0 200 400 600 800
t [sec]

X/L position [-]

 

Rudder [deg]
|

239

50 100 150

50 100 150

 

50 100 150
Y/L position [-] 2
o
Bey
=F
>
0
0 50 100 150
Time [s]
Starting point (34m, 49m)
D
15 QD 4
— U
— < ok
7 \ 2 h KI hk
< 10 SG -20
2 >
= rc oo 100 200 300 400
° 20
Qa 5 =
a 8 10
a =
x< — °
Pe -10
7 |e 0 100 200 300 400
0 5 10 15 2 > 04
Y/L position [-] “oe 0
Oo
-E’ -0.1
0 100 200 300 400
= 0.1
5, pr |
— 0
3
t -0.1
0 100 200 300 400
z 02
> 0
Oo
 -02
0 100 200 300 400
t [sec]

Fig. 39 Full berthing simulation for ship starts from different points with heading 220°

pier, surge and sway velocity control, ship position control
and reverse thrust when almost reaching the destination, 1.e.
making the sway velocity minimum as possible. To do that,
he considered two lateral thrusts acting in fore and aft part
of the ship and one longitudinal thrust to adjust the ship
position with respect to the pier. To justify the robustness
of his controller he tested it for ships staring from the same
position with different heading and also for ships starting
from different points with the same heading. Both cases
are considered under average gust of 1.5 m/s from differ-
ent directions. Figure 37 shows the results for the first case.
Simulations are done under gust of 1.5 m/s from 45 . Fig-
ure 38 shows the results for the second case under same wind
conditions. All show successful berthing results.

Later on, he combines this controller with the pre-existing
ANN-PID controller to complete the berthing process. The

controller for thrusters is activated as soon as the ship enters
the assumed successful berthing zone. The simulations are
done for arbitrary chosen starting points and different head-
ings under wind disturbances as shown in Figs. 39 and 40.
The controller is also tested for different experiment end
condition. The left of Fig. 41 shows the simulation result
for ship starting with 360.6° (final heading at the end of
experiment). Other initial conditions are also kept the same
as found at the end of experiment. Maximum allowable
wind is considered from an average direction as found in
that experiment. Since the ship stops outside the desired
berthing zone, the controller needs to maintain the crabbing
motion for a long lateral distance. Moreover, it also needs
to correct a large heading error. The simulation shows sat-
isfactory result and it ends with almost zero surge and sway
velocity with final heading 280°. The right of Fig. 41 shows

Q) Springer
240

Starting point (8m, 54m)

 

 

 

Rudder [deg]

100 200 300 400

X/L position [-]
n [rps]
|
coo So 80 8

 

 

[N]

5 10 15
Y/L position [-]

 

Mie

 

pag

 

 

 

 

 

 

t [sec]

X/L position [-]

 

Marine Systems & Ocean Technology (2020) 15:217-242

Starting point (11m, 57m)

 

 

 

500

 

5 10 15 20
Y/L position [-]

 

 

 

0 100 200 300 400 500

 

 

 

 

300 400

200
t [sec]

100 500

Fig. 40 Full berthing simulation for ship starts from different points with heading 360°

00 Experiment Result

Wind vel
[m/s]
z
Wind vel
[m/s]

 

Psi,
[deg]

X/L position [-]

 

X/L position [-]

 

Oo
ae
fo}
oO

rudder [deg]
So8

 

 

 

0 5 10 15 20
Y/L position [-]

Rps]
I

Simulation for side thrusters

 

 

 

X/L position [-]

 

 

 

2 + oO 7 2
Y/L position [-]

150
t [sec]

Fig.41 Simulation with experiment end conditions

the experiment result where the ship comes closer to the
pier with final heading 250.8°. From that state, the control-
ler guides the ship to align it with the pier and stops it with
almost zero surge and sway velocity with final heading 274°.

By this way, the compatibility of the proposed PD con-
troller to execute crabbing motion is checked with afore-
mentioned ANN-PID for total berthing process. Later on,
experiment will be planned to validate the controller for real
ship operation.

Q) Springer

 

 

Experiment Result

 

250 300

 

Psi
WwW
np NR
I Oo Oo
ey Nh Oo Oo Oo
ooo

rudder [deg] , [deg]

0 5 10 15 20

Y/L position [-] 20
Q “| hom Hy Hl “sich 1
oc 0 ;
-10 1 1 1

t [sec]

 

 

Simulation for side thrusters

 

X/L position [-]

 

 

0 10 20 30 40 50 60

 

4 -0.5 0 05
Y/L position [-]

 

t [sec]

7 Conclusions

This paper includes a comprehensive study of different
approaches adopted by researchers to tackle the major chal-
lenges of automatic ship berthing. Up-to-date major con-
tributing papers are chosen to include their findings and
shortcomings. In addition, tentative approaches to resolve
the problems are suggested according to the authors’ under-
standing and experience. This review paper highlights
that the future of automatic ship berthing research is quite
promising. By utilizing the latest technologies with advance
Marine Systems & Ocean Technology (2020) 15:217-242

control systems, which are not only robust but also intel-
ligent, we can tackle any unforeseen situation while doing
autonomous berthing and make the shipping industry safer.
Embedded technologies such as AI, internet of things, big
data in maritime field ensure the adoption of Industry 4.0
technology. These are bringing more features to automate
the marine-related operation, and, therefore, bringing auto-
mation in ship berthing is just a way ahead. This paper
mainly draws the following conclusions:

(1)

(2)

(3)

(4)

MMG model could be utilized over K-T model to
predict the hydrodynamic behaviour of a ship for low
speed running and reversing. Most of the researchers
prefer to use this model in their research. The hydro-
dynamic coefficients in the model are determined by
doing captive model tests or using empirical formulas.
In addition, it is better to include a disturbance model,
such as a wind model, while describing the equations
of motions of a ship to get a more realistic response.
A consistent set of teaching data boosts the learning
ability of an ANN controller for ship berthing. A wise
way to ensure it is to adopt a specific strategy before
creating the data itself. Optimization with Nonlinear
Programming (NLP) method and a standard decel-
eration manoeuvring plan could be implemented to
create the data more systematically. A new concept
named ‘Virtual window’ could be adapted to consider
more verities in the teaching data and, thus, makes the
trained ANN controller more robust.

Carefully selected input neurons could play a viable
role in making a trained controller universal to any
port. Choosing geographical coordinates, such as ship’s
position, heading etc. often restrict a controller for a
particular port as such coordinates are different for dif-
ferent ports. As an alternative, relative distances to the
pier are preferred by many researchers. Most preferred
inputs are distance from ship to the reference line,
distance from ship to the pier and relative heading. In
the case of using a distance measurement system, ship
distance from a target on wharf and distance to wharf
could be utilized as input parameters. To select an
appropriate number of hidden layers and neurons, GA
could be used. However, most of the researchers used
trial and error procedures for this purpose to ensure
minimum Mean Squared Error (MSE) value after the
learning process.

ANN faces difficulties under wind disturbances to
berth a ship appropriately. This is due to the reduced
ship manoeuvrability under low speed running with an
enhanced wind effect. An effective way to tackle this
situation could be using an assisting controller, such as
a PID to control the rudder for the course keeping part
with relatively low speed. Such a combined ANN-PID

5)

241

controlled has found to give outstanding results in all
possible gust of wind from different directions. The
combined controller has also been tested for completely
unforeseen situations, where the ANN has to do boost-
ing, engine idling adjustment and reversing to bring the
ship within an assumed berthing zone.
To finally align a ship with pier, both ANN and Fuzzy
controller have been tried. However, the disturbance
model is not considered in the researches as both of the
controllers seem to have difficulties in distinguishing the
actual ship response from the high noise of disturbances.
This happens when the ship moves slowly under a high
gust of wind. Adaptive and conventional feedback con-
trollers have been proposed to tackle this issue, which
shows promising results; however, experiments are yet
to be done to confirm the practical applicability.

References

1.

10.

11.

12.

13.

L. Shijie et al., Automatic docking for underactuated ships based
on multi-objective nonlinear model predictive control. IEEE Open
Access J. 8, 70044-70057 (2020)

Y. Shuai et al., An efficient Neural-Network based approach to
automatic ship docking. Ocean Eng. 191, 19-22 (2019)

P.H. Nguyen, Y.C. Jung, Automatic Berthing Control of Ship
using Adaptive Neural Network. J. Navig Port Res 31(7), 563-568
(2007)

Y. Liu, The Nonlinear Adaptive Control for Under actuated Sur-
face Vessels. Ph.D. thesis. Dalian Maritime University, Dalian,
(2010)

Y.D. Song et al., Tracking control for A Class of unknown nons-
quare MIMO nonaffine systems: a deep-rooted information based
robust adaptive approach. IEEE Trans. Autom. Control 61(10),
3227-3233 (2015)

H. Yamato et al., Automatic berthing by neural controller. Pro-
ceeding of the Ninth Ship Control Systems Symposium, vol. 3,
pp. 183-201. Bethesda, (1990)

K. Hasegawa, K. Kitera, Automatic berthing control system using
network and knowledge-base. J. Kansai Soc. Naval Archit. Jpn.
220, 135-143 (1993). (in Japanese)

N.K. Im, K. Hasegawa, a study on automatic ship berthing using
parallel neural controller. J. Kansai Soc. Naval Archit. Jpn. 236,
65-70 (2001)

N.K. Im, K. Hasegawa, A study on automatic ship berthing using
parallel neural controller (2nd Report). J. Kansai Soc. Naval
Archit. Jpn. 237, 127-132 (2002)

N.K. Im et al., An application of ANN to automatic ship berth-
ing using selective controller. J. Mar. Navig. Saf. Sea Trans. 1,
101-105 (2007)

N. Mizuno et al., Minimum time ship maneuvering method using
neural network and nonlinear model predictive compensator. J.
Control Eng. Pract. 15(6), 757-765 (2007)

G. Xu, K. Hasegawa, Automatic berthing using artificial neural
network on teaching data generated by optimal steering. Jpn. Soc.
Naval Archit. Ocean Eng. 14(2), 295-298 (2012)

Y.A. Ahmed and K. Hasegawa, Automatic ship berthing using
artificial neural network based on virtual window concept in wind
condition. Proceeding of the 13th IFAC Symposium on Control
in Transportation Systems, pp. 359-364. (Sofia, Bulgaria, 2012)

Q) Springer
242

14.

15.

16.

17.

18.

19.

20.

21.

22.

23.

24.

25.

26.

27.

28.

29.

30.

Y.A. Ahmed, K. Hasegawa, Automatic ship berthing using artifi-
cial neural network trained by consistent teaching data using non-
linear programming method. J. Eng. Appl. Artif. Intell. 26(10),
2287-2304 (2013)

Y.A. Ahmed, K. Hasegawa, Consistently trained artificial neural
network for automatic ship berthing control. TransNav Int. J. Mar.
Navig. Saf. Sea Trans. 9(3), 417-426 (2015)

N.K. Im, V.S. Nguyen, Artificial Neural Network controller for
automatic ship berthing using head-up coordinate system. Int. J.
Naval Archit. Ocean Eng. 10, 235-249 (2018)

V.S. Nguyen et al., Development of automatic ship berthing sys-
tem using artificial neural network and distance measurement
system. Int. J. Fuzzy Logic Intell. Syst. 18, 41-49 (2018)

V.S. Nguyen, Investigation of a multitasking system for automatic
ship berthing based on an integrated neural controller. Mathemat-
ics. 8, 1167 (2020)

D. Lee et al., Application of recent developments in deep learning
to ANN-based automatic berthing systems. Int. J. Eng. Technol.
Innov. 10(1), 75—90 (2020)

V.P. Bui et al., Modelling and Control Allocation for Ship Berth-
ing System Design, International Conference on Control, Automa-
tion and Systems, pp. 195-200, (2010)

N.K. Im, A study on ship automatic berthing with assistance of
auxiliary devices. Int. J. Naval Archit. Ocean Eng. 4(3), 199-210
(2012)

J.Y. Park, N. Kim, Design of an adaptive backstepping controller
for auto-berthing a cruise ship under wind loads. Int. J. Naval
Archit. Ocean Eng. 6, 347-360 (2014)

Y.A. Ahmed, automatic tug assistance. Book chapter in Engi-
neering Applications for New Materials and Technologies, pp
491-503, (2018)

P. Mushra et al., Ships steering autopilot design by nomoto model.
Int. J. Mech. Eng. Robot. IJMER) 3(3), 37-41 (2015)

A. Ogawa, H. Kasai, On the mathematical method of manoeuvring
motion of ships. Int. Shipbuild. Progr. 25(292), 306-319 (1978)
K. Matsumoto, K. Suemitsu, The prediction of manoeuvring per-
formances by captive model tests. J. Kansai Soc. Naval Archit.
176, 11-22 (1980)

S. Inoue et al., A practical calculation method of ship manoeu-
vring motion. Int. Shipbuild. Program 28(325), 207—222 (1981)
Y.A. Ahmed, Mathematical model of the manoeuvring motion of a
ship. Book chapter in Engineering Applications for New Materials
and Technologies, pp 551-566, (2018)

K. Kose et al., On a computer aided manoeuvring system in har-
bors. J. Soc. Naval Archit. Jpn. 160, 103-110 (1986)

M. Hirano, Prediction of Manoeuvring in Shallow Water (in Japa-
nese). J. Soc. Naval Archit. Jpn, (1985)

Q) Springer

31.

32.

33.

34.

35.

36.

37.

38.

39.

40.

4].

42.

43.

Marine Systems & Ocean Technology (2020) 15:217-242

K. Kijima et al., On the manoeuvring performance of a ship with
the parameter of loading condition. J. Soc. Naval Archit. Jpn. 168,
141-148 (1990)

T. Fujiwara et al., Estimation of Wind Forces and Moment Acting
on Ships. J. Soc. Naval Archit. Jpn. 183, 77-90 (1998)

A.G. Davenport, the dependence wind loads on meteorological
parameters. Proceeding of Conference on Wind Effects on Build-
ings and Structures (1967)

M. Endo et al., passage planning system for small inland vessels
based on standard paradigms and manoeuvres of experts. MAR-
SIM’03, vol._, pp-RB-19-1-RB-19-9, (2003)

J. More, The Lavenberg-Marquardt algorithm: implementation
and theory. Conference on Numerical Analysis, Dundee, (1977)
Y.A Ahmed, Automatic berthing control practically applicable
under wind disturbances. Osaka University thesis paper, (2015)
X. Cheng et al., Data-driven uncertainty and sensitivity analysis
for ship motion modelling in offshore operations. Ocean Eng. 179,
261-272 (2019)

V.L. Tran, N.K. Im, A Study on automatic berthing with assis-
tance of auxiliary devices. J. Naval Archit. Ocean Eng. 4, 199-210
(2012)

V.S. Nguyen et al., Automatic ship berthing based on fuzzy logic.
Int J. Fuzzy Logic Intell. Syst. 19(3), 163-171 (2019)

L. Yulei et al., Layered berthing method and experiment of
unmanned surface vehicle based on multiple constraints analysis.
Appl. Ocean Res. 86, 47-60 (2019)

Y.A. Ahmed et al., An Artificial Neural Network controller for
course changing manoeuvring. Int. J. Innov. Technol. Explor. Eng.
8(12), 5714-5719 (2019)

Q. Zhang et al., Ship nonlinear-feedback course keeping algorithm
based on MMG model driven by bipolar sigmoid function for
berthing. Inter. Journal of Naval Arch. and Ocean Eng. 9, 525-536
(2017)

Q. Zhang et al., Adaptive neural network auto-berthing control of
marine ships. Ocean Eng 177, 40-48 (2019)

Publisher's Note Springer Nature remains neutral with regard to
jurisdictional claims in published maps and institutional affiliations.
